{"version":3,"sources":["services/SabygramService.js","components/pages/auth/auth.js","components/helpers/functions.js","components/pages/edit/edit.js","components/dialogItem/dialogItem.js","components/header/index.js","components/header/header.js","components/addContact/addContact.js","img/3.png","components/pages/settingPage/settingPage.js","img/1.png","img/2.png","components/pages/settingPage/index.js","components/pages/dialogs/dialogs.js","components/msgForm/index.js","components/message/index.js","components/chatWindow/index.js","components/msgHeader/index.js","components/msgHeader/header.js","components/chatApp/index.js","components/pages/contacts/contacts.js","components/app/index.js","components/app/app.js","reducers/index.js","store.js","index.js"],"names":["SabygramService","dialogData","data","url","fetch","method","headers","body","JSON","stringify","this","Auth","service","renderAuthPage","props","password","phone","className","onSubmit","sendForm","type","name","placeholder","value","onChange","setPhone","maxLength","pattern","required","setPassword","e","preventDefault","form","currentTarget","userInfo","phoneNumber","sendDataPost","history","push","isAuthenticated","isRegistrated","Component","connect","dispatch","newPhone","target","payload","newPassword","createPictureBlob","letter","newPhotoSvg","blob","Blob","createReader","readPhoto","files","Promise","resolve","reader","FileReader","readAsDataURL","onload","result","Edit","setPhoto","a","closest","photo","setProfilePhoto","pictureUrl","setData","username","toUpperCase","profilePicSvg","welcome_msg","message","image_link","setUserName","setWelcomeMessage","id","htmlFor","src","alt","accept","hidden","myProfilePhoto","myWelcomeMessage","myUserName","DialogItem","timer","dialog","lastMessage","img","timing","dialogs","document","getElementsByClassName","settings","createElement","innerHTML","touchend","clearTimeout","touchstart","current","setTimeout","appendChild","addEventListener","i","length","getElementById","remove","useHistory","onClick","Header","groupId","onSearch","onSettings","useState","inputVisible","setVisibility","groupName","onInput","dialogsFound","forEach","dialogGroup","toLowerCase","includes","onBlur","autoFocus","AddContact","state","changePlaceholderFocus","setState","changePlaceholderBlur","changePhone","onFocus","renderLinks","to","SettingPage","defaultValue","pencilImg","Dialogs","getDialogData","slideGroup","itemsFound","slideChanged","activeIndex","renderSearchItems","addContact","initialSlide","onSlideChange","slot","RenderDialog","toSearchIn","map","MsgForm","input","msgInput","handleSubmit","event","trimmedMsg","savedMsg","trim","editMode","updateMessage","addNewMessage","phrase","generatedPhrase","generatePhrase","displayEmojis","setDisplayEmojis","disableAutoFocus","onEmojiClick","emojiObject","cursorPosition","selectionStart","selectionLength","selectionEnd","textArray","split","splice","emoji","newText","join","setSavedMsg","focus","icon","faSmile","ref","autoComplete","onKeyDown","keyCode","lastMessageIndex","testIndex","currentMessages","direction","blur","enterEditMode","faPaperPlane","Message","index","editIndex","edit","time","ChatWindow","currentFriend","messages","messageList","useRef","useEffect","scroll","top","scrollHeight","updateSaved","setEditMode","ChatApp","currentConv","setEditIndex","saved","newMessage","selectedConv","Date","toLocaleString","updatedData","msg","savedMessage","Contacts","swipePrev","RenderContact","App","exact","path","component","render","match","params","dialogId","initialState","myPassword","myPhone","reducer","action","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.7fd4281f.chunk.js","sourcesContent":["export default class SabygramService {\r\n    dialogData = [\r\n        // [\r\n        //     {\r\n        //         id: 0,\r\n        //         name: \"Анжелина\",\r\n        //         lastMessage: \"Как ты?\",\r\n        //         img: \"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg\",\r\n        //         timing: \"15 м\"\r\n        //     },\r\n        //     {\r\n        //         id: 1,\r\n        //         name: \"Крис\",\r\n        //         lastMessage: \"Встала сегодня в 6 утра прикинь...\",\r\n        //         img: \"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo\",\r\n        //         timing: \"1 ч\"\r\n        //     }\r\n\r\n        // ],\r\n        // [\r\n\r\n        //     {\r\n        //         id: 2,\r\n        //         name: \"Сергей\",\r\n        //         lastMessage: \"Не забывайте подписывать время в тасках\",\r\n        //         img: \"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg\",\r\n        //         timing: \"2 ч\"\r\n        //     },\r\n        //     {\r\n        //         id: 3,\r\n        //         name: \"Эдуард\",\r\n        //         lastMessage: \"Пароль не подошел\",\r\n        //         img: \"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg\",\r\n        //         timing: \"1 д\"\r\n        //     },\r\n        //     {\r\n        //         id: 7,\r\n        //         name: \"Серёжа\",\r\n        //         lastMessage: \"Привет, у меня вопрос\",\r\n        //         img: \"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1\",\r\n        //         timing: \"2 д\"\r\n        //     }\r\n        // ],\r\n        // [\r\n        //     {\r\n        //         id: 4,\r\n        //         name: \"Вова\",\r\n        //         lastMessage: \"Выучил реакт за час\",\r\n        //         img: \"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg\",\r\n        //         timing: \"2 ч\"\r\n        //     },\r\n        //     {\r\n        //         id: 5,\r\n        //         name: \"Саша\",\r\n        //         lastMessage: \"Я на 2 этаже куда идти?\",\r\n        //         img: \"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg\",\r\n        //         timing: \"1 н\"\r\n        //     },\r\n        //     {\r\n        //         id: 6,\r\n        //         name: \"Лёша\",\r\n        //         lastMessage: \"Я в столовой, если что\",\r\n        //         img: \"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200\",\r\n        //         timing: \"2 н\"\r\n        //     }\r\n            \r\n        // ]\r\n    ];\r\n\r\n    sendDataPost(data, url) {\r\n        return fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    }\r\n\r\n    getDialogData() {\r\n        return this.dialogData;\r\n    }\r\n\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SabygramService from \"../../../services/SabygramService\";\r\n\r\nimport './auth.scss';\r\n\r\nclass Auth extends Component {\r\n    service = new SabygramService();\r\n\r\n    renderAuthPage = () => {\r\n        const { password, phone } = this.props;\r\n        return (\r\n            <section className='login-container'>\r\n                <h1 className='login-text'>вход</h1>\r\n                <form className='login-form' onSubmit={this.sendForm}>\r\n                    <div className='tel-wrapper'>\r\n                        <p className=\"number-7\">+7</p>\r\n                        <input type=\"tel\" name=\"phoneNumber\" placeholder='Тел. номер' value={phone} onChange={this.props.setPhone} maxLength=\"10\" pattern=\"\\d*\" required></input>\r\n                    </div>\r\n                    <input type=\"password\" name=\"password\" placeholder='Пароль' onChange={this.props.setPassword} value={password} maxLength=\"12\" required></input>\r\n                    <button type=\"submit\" className='login-button'><i className=\"fas fa-play\" ></i></button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n    sendForm = (e) => {\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n        let userInfo = {\r\n            phone: form.phoneNumber.value,\r\n            password: form.password.value\r\n        };\r\n        this.service.sendDataPost(userInfo, '');\r\n        const { history } = this.props;\r\n        history.push('/edit');\r\n    }\r\n\r\n    render() {\r\n        const { isAuthenticated, isRegistrated } = this.props;\r\n        if (isAuthenticated && isRegistrated) {\r\n            return (<div>старинца с диалогами</div>)\r\n        }\r\n        else if (!isRegistrated) {\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n        else if (!isAuthenticated && isRegistrated) { //заменить на dialig\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = ({ isAuthenticated, isRegistrated }) => {\r\n    return {\r\n        isAuthenticated,\r\n        isRegistrated\r\n    }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n    return {\r\n        setPhone: (e) => {\r\n            const newPhone = e.target.value;\r\n            dispatch({ type: \"SET_MY_PASSWORD\", payload: newPhone })\r\n        },\r\n        setPassword: (e) => {\r\n            const newPassword = e.target.value;\r\n            dispatch({ type: \"SET_MY_PHONE\", payload: newPassword })\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\r\n","const createPictureBlob = (letter) => {\r\n    const newPhotoSvg = \r\n      `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"74\" height=\"74\" version=\"1.1\">\r\n      <circle cx=\"37\" cy=\"37\" r=\"37\" fill=\"white\"></circle>\r\n    <text x=\"18\" y=\"60\" font-size=\"60\" font-family=\"Roboto, sans-serif\" fill=\"#738DED\">${letter}\r\n          </text>  \r\n    </svg>`\r\n    const blob= new Blob([newPhotoSvg], {type: 'image/svg+xml'}); \r\n    return createReader(blob);\r\n}\r\n\r\nconst readPhoto = (e) => {\r\n    return createReader(e.target.files[0])\r\n}\r\n\r\nconst createReader = (value) => {\r\n    return new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(value);\r\n        reader.onload = () => {\r\n            resolve(reader.result)\r\n        }\r\n    })\r\n}\r\nexport{\r\n    createPictureBlob, readPhoto\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createPictureBlob, readPhoto } from '../../helpers';\r\nimport SabygramService from \"../../../services/SabygramService\";\r\nimport './edit.scss';\r\n\r\nclass Edit extends Component {\r\n  service = new SabygramService();\r\n\r\n  setPhoto = async (e) => {\r\n    const form = e.currentTarget.closest(\"form\");\r\n    const photo = await readPhoto(e);\r\n    this.props.setProfilePhoto(await photo);\r\n    form.pictureUrl.value = await photo\r\n  }\r\n\r\n  setData = async (e) => {\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    \r\n    if(!this.props.photo) {\r\n      var profilePicSvg = await createPictureBlob(form.username.value[0].toUpperCase());\r\n      form.pictureUrl.value = await profilePicSvg;\r\n    }\r\n\r\n    let userInfo = {\r\n      name: form.username.value,\r\n      welcome_msg: form.message.value || \"Привет всем друзьям!\",\r\n      image_link: form.pictureUrl.value || profilePicSvg\r\n    }\r\n\r\n    this.service.sendDataPost(userInfo, '/edit')\r\n\r\n    this.props.setUserName(userInfo.name);\r\n    this.props.setWelcomeMessage(userInfo.welcome_msg);\r\n    this.props.setProfilePhoto(userInfo.image_link);\r\n\r\n    const { history } = this.props;\r\n    history.push('/dialogs');\r\n  }\r\n\r\n  render() {\r\n    const { photo } = this.props;\r\n\r\n    return (\r\n      <section className='edit-container'>\r\n        <form className='name-form' id=\"editForm\" onSubmit={this.setData}>\r\n          <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background\">\r\n\r\n            {photo ? <img src={photo} alt=\"Profile icon\" className=\"profile-photo\"></img> : <div className=\"plus\">+</div>}\r\n            <input type=\"file\" id=\"picture\" accept=\"image/*\" onChange={this.setPhoto}/>\r\n          </label>\r\n\r\n          <input type=\"text\" name=\"pictureUrl\" hidden /> \r\n          \r\n          <p className='photo-label'>Фото</p>\r\n\r\n          <input type=\"text\" name=\"username\" placeholder='Ваше имя' maxLength=\"25\" required />\r\n\r\n          <input type=\"text\" name=\"message\" placeholder='Привет всем друзьям!' maxLength=\"200\" />\r\n\r\n          <button type=\"submit\" className='edit-button' ><i className=\"fas fa-play\"></i></button>\r\n\r\n        </form>\r\n      </section>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ myProfilePhoto, myWelcomeMessage, myUserName }) => {\r\n  return {\r\n    name: myUserName,\r\n    message: myWelcomeMessage,\r\n    photo: myProfilePhoto\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n  return {\r\n    setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\r\n    setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\r\n    setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Edit)\r\n\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './dialogItem.scss';\r\n\r\nconst DialogItem = ({ dialog: { name, lastMessage, img, id, timing } }) => {\r\n\r\n    let timer;\r\n    let touchduration = 500;\r\n    let dialogs = document.getElementsByClassName('dialog');\r\n    let settings = document.createElement('ul');\r\n\r\n    settings.innerHTML = '<li>Сделать тихим</li><li>Сделать гроким</li><li>Удалить</li>';\r\n\r\n    settings.className = 'settings';\r\n\r\n    const touchend = () => {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n    }\r\n\r\n    const touchstart = (e) => {\r\n        const current = e.currentTarget\r\n        if (!timer) {\r\n            timer = setTimeout(() => { current.appendChild(settings) }, touchduration);\r\n        }\r\n    };\r\n\r\n    const addEventListeners = () => {\r\n        for (let i = 0; i < dialogs.length; i++) {\r\n            let dialog = dialogs[i];\r\n            dialog.addEventListener(\"touchstart\", touchstart, false);\r\n            dialog.addEventListener(\"touchend\", touchend, false);\r\n            dialog.addEventListener(\"mousedown\", touchstart, false);\r\n            dialog.addEventListener(\"mouseup\", touchend, false);\r\n        }\r\n    }\r\n\r\n    document.addEventListener(\"DOMContentLoaded\", addEventListeners)\r\n    document.getElementById('root').addEventListener('click', function () {\r\n        settings.remove();\r\n    })\r\n\r\n    const history = useHistory();\r\n    const handleClick = () => {\r\n        history.push(`/chatapp/${id}`, {\r\n            id: id,\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div className=\"dialog\" onClick={handleClick}>\r\n            <img src={img} alt=\"dialogPicture\" className=\"dialog-img\" />\r\n            <div className=\"dialog-contain\">\r\n                <p className=\"dialog-name\">{name}</p>\r\n                <p className=\"dialog-message\">{lastMessage}</p>\r\n            </div>\r\n\r\n            <div className=\"dialog-timing\">{timing}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import Header from './header';\r\nexport default Header;","import React, { useState } from 'react';\r\nimport './header.scss';\r\n\r\nconst Header = ({ groupId, onSearch, dialogs, onSettings }) => {\r\n    const [inputVisible, setVisibility] = useState(false);\r\n\r\n    let groupName = null;\r\n\r\n    switch (groupId) {\r\n        case 0:\r\n            groupName = \"Общие\";\r\n            break;\r\n        case 1:\r\n            groupName = \"Громкие\";\r\n            break;\r\n        case 2:\r\n            groupName = \"Тихие\";\r\n            break;\r\n        case \"all\":\r\n            groupName = \"Контакты\";\r\n            break;\r\n        default:\r\n            groupName = null;\r\n    }\r\n\r\n    const handleSearch = () => {\r\n        inputVisible === false ? setVisibility(true) : setVisibility(false)\r\n    }\r\n\r\n    const searchDialogs = (e) => {\r\n        let dialogsFound = [];\r\n\r\n        if(groupId === \"all\"){\r\n            dialogs.forEach((dialogGroup) => {\r\n                dialogGroup.forEach((dialog) => {\r\n                    if (dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\r\n                    dialogsFound.push(dialog)\r\n                    })\r\n                })\r\n            }\r\n        else {\r\n            dialogs[groupId].forEach((dialog) => {\r\n            if (dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\r\n                dialogsFound.push(dialog)\r\n            })\r\n        }\r\n        onSearch(dialogsFound)\r\n    }\r\n\r\n    const clearDialogs = (e) => {\r\n        onSearch(null);\r\n        setVisibility(false);\r\n        e.target.value = null\r\n    }\r\n\r\n    return (\r\n        <header className=\"dialogs-header\">\r\n            {groupName && <i className=\"fa fa-bars\" aria-hidden=\"true\" onClick={onSettings}></i>}\r\n            {groupName && <i className=\"fa fa-users\" aria-hidden=\"true\"></i>}\r\n            <div className=\"group-name\">{ groupName }</div>\r\n            <input type=\"text\" className=\"dialogs-search\" onInput={searchDialogs} onBlur={clearDialogs} hidden={!inputVisible} autoFocus={true}></input>\r\n            {groupName &&  <i className=\"fa fa-search\" aria-hidden=\"true\" onClick={handleSearch}></i> }\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport './addContact.scss';\r\n\r\nexport default class AddContact extends Component {\r\n\r\n  state = {\r\n    placeholder: 'Добавить контакт',\r\n    phone: ''\r\n  }\r\n\r\n  changePlaceholderFocus = () => {\r\n    this.setState({\r\n      placeholder: 'Номер телефона'\r\n    })\r\n  }\r\n\r\n  changePlaceholderBlur = () => {\r\n    this.setState({\r\n      placeholder: 'Добавить контакт'\r\n    })\r\n  }\r\n\r\n  changePhone = (e) => {\r\n    this.setState(\r\n      {\r\n        phone: e.target.value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className='add-contact-form'>\r\n        <input className='add-contact' placeholder={this.state.placeholder} onFocus={this.changePlaceholderFocus} onBlur={this.changePlaceholderBlur} value={this.state.phone} onChange={this.changePhone} />\r\n      </form>\r\n    )\r\n  }\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACySURBVHgB7ZOhDsJADECvBIXeNBo+AjQWPoKvmIIEjSMBh95HgMZjmZ8Fe7xmXZiCa4Jck5fbenm9XtKT4IgY44xlZb8bEaldMpwgt+89ZJIq28kvuHFyabnF0CFv4QkFOd26hM91vratread3Ah2cLTi6bLlM8v38j/lcTthbpkYwCQ0A7LsyiwFlEzd9VeBKZyhRlx7ZA0d5bb1CrTdORxSZA3Re4bmkTysSIV8D4nxBulz6F4h5s8kAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { readPhoto } from '../../helpers';\r\nimport { Link } from 'react-router-dom';\r\nimport SabygramService from \"../../../services/SabygramService\";\r\nimport './settingPage.scss';\r\n\r\n\r\nimport contactsImg from '../../../img/1.png';\r\nimport cinemaImg from '../../../img/2.png';\r\nimport pencilImg from '../../../img/3.png';\r\nconst service = new SabygramService();\r\n\r\nconst SettingPage = ({myUserName, myWelcomeMessage, myProfilePhoto, setProfilePhoto, setUserName, setWelcomeMessage}) => {\r\n    const setPhoto = async (e) => {\r\n        const form = e.currentTarget.closest(\"form\");\r\n        const photo = await readPhoto(e);\r\n        setProfilePhoto(await photo);\r\n        form.pictureUrl.value = await photo\r\n    }\r\n\r\n    const setData = async (e) => {\r\n        e.preventDefault();\r\n        const form = e.currentTarget;\r\n\r\n        let userInfo = {\r\n            name: form.username.value,\r\n            welcome_msg: form.message.value,\r\n            image_link: form.pictureUrl.value\r\n        }\r\n\r\n        service.sendDataPost(userInfo, '/edit')\r\n\r\n        setUserName(userInfo.name);\r\n        setWelcomeMessage(userInfo.welcome_msg);\r\n        //this.props.setProfilePhoto(userInfo.image_link);   \r\n    }\r\n\r\n    const renderForm = () => {\r\n        return(\r\n            <form name=\"profileInfo\" className=\"profileInfo\" onSubmit={setData}>\r\n                <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background-profile\">\r\n                    <img src={myProfilePhoto} alt=\"Profile icon\" className=\"photo-settings\" />\r\n                    <input className=\"profile-photo-settings\" type=\"file\" id=\"picture\" accept=\"image/*\" onChange={setPhoto}/>\r\n                </label>\r\n                <input type=\"text\" name=\"pictureUrl\" hidden></input> \r\n\r\n                <label>\r\n                    <input type=\"text\" className=\"username-field\" name=\"username\" defaultValue={myUserName} maxLength=\"25\" />\r\n                    <img src={pencilImg} alt=\"edit\" className=\"settings-pencil\"></img>\r\n                </label>\r\n                <label>\r\n                    <input type=\"text\" className=\"message-field\" name=\"message\" defaultValue={myWelcomeMessage} maxLength=\"200\" />\r\n                    <img src={pencilImg} alt=\"edit\" className=\"settings-pencil\"></img>\r\n                </label>\r\n                <button type=\"submit\" className=\"profileInfo-button\">Сохранить</button>\r\n                <button type=\"button\" className=\"profileInfo-button exit-button\">\r\n                    <Link to=\"/\">Выйти</Link>\r\n                </button>\r\n                <span>SABYgramm ©</span>\r\n            </form>\r\n        )\r\n    }\r\n    return(\r\n        <div className=\"setting-page\">\r\n            {renderLinks()}  \r\n            {renderForm()}\r\n        </div>\r\n    )\r\n}\r\nconst renderLinks = () => {\r\n    return (       \r\n        <div className=\"link-controllers \">\r\n            <Link to=\"/contacts\" className=\"left-controller\">\r\n                <div className=\"link-contain\">\r\n                    <div className=\"icon\">\r\n                        <img src={contactsImg} alt=\"Контакты\" />                          \r\n                    </div>\r\n                    <p>Контакты</p>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"#!\">\r\n                <div className=\"link-contain\">\r\n                    <div className=\"icon\">\r\n                        <img src={cinemaImg} alt=\"Кинотеатр\" />                           \r\n                    </div>\r\n                    <p>Кинотеатр</p>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({myUserName, myWelcomeMessage, myProfilePhoto}) => {\r\n    return{\r\n        myUserName,\r\n        myWelcomeMessage,\r\n        myProfilePhoto\r\n    }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n    return {\r\n      setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\r\n      setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\r\n      setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\r\n    }\r\n  }\r\nexport default connect(mapStateToProps, mapDispatchProps)(SettingPage);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO6SURBVHgB1Vn9ddMwEL/k8T9hgqoTNJ0AMwHZgGyQbJB0AsIEoRMAEzhMkDKBnQlcJhBWclfLsj7ubKfA7z1Xrk6n+9JJZwXgCtBar+on1xdU+K7gf0Ct6F6HsYbXRC0wQ+9VqIB5X0bGb3Bcgbwz4/n62VpGzMeSl1J+E/HkJsBTIH3hoe2QthtLXkz5pcW8RU+aZ231Zw6Pwv4qMGeG9OMY8lIG5Mi09tBoOeQBAwqIG5CPIS9lAGHmoc1CntbN2s08tD3S9mPJixlQMSbUHhp5q9CYfDj+s6WkGktezIAcebYe2ioW0rr/qw5jPba8kAGZLVQ3SbWx+pcRfpOURxxHB1l2LXmhSbc6jC2MjKvIQ0/mXE8OxWvLc4VTyKuIJwt92Y0U/EvQlzOg0HwUVzPC8mSRUGBu8dDYo47XOnPdJHdh9a8Y8vZJo4WeXCLPwhIyA56DCuRZYN83nshE5HTbk1nMUOudijR2qaybGmdP82l+5PLQoEziSYsvR75MwENR+y7gMZHrlCpTawx54MdkMnkGPhS2Ep4nbO+4DKjTI/77Eq2pR5ESZFAo4InLUI8tiVcSbWh0U9RhG3DjDErCWrds5T3KvAU+KMqKOnwRkCyFWQ8eAhl9z2d54SFnew2QeJMi8AvkODlyOShdnrMBuA7N89wzgUuQo3TmSAJ1M8+Mcmc6UBHaRYbkgAIZWnngGiBdy2PkAHsrdfiU+eMaIF3L5xyQbKEWOjsKE63cGbqEzkrofpdPi54yS2yV+UMGiM8AxAO2e2ktZHjw30eQwZsDhPcgQL10dnVD9YzkRFXYmrJlCzJ0Dz7d/qg+F3TAxMBijn3ToLtl/tIdsHYGsTxqVYgKmNCJa8gAD6GKLlfLiBvGpHOpIhZvJZATvLacRvjeQRoK2z7b6AHbD4yxwfPGZ0DpMMVAtdBPkOPkzBGDyABJkUW71pAIcE5iMuC3S3gDw0DeMx/l1FfWz71bFGKSH6EbWUkEOrkWW0IK0vDVQAqaU9bGHPzLklNHKWxPLmEKA1B7+XZioe76giSfV6nvYdLGLQxALALJ7c2DVqXoYEjprbAtXUKvCOjLDxaF57A7YHvHVQL3+Pjh1JQPom1UQRhzpLeWCt42GCGt2wZ8D5XeZh5D/whh9DoHFPSYMMAfu73wjWfL65vEwW0Nmo8iOzr0foKR5XXOAbMMcE8/1x8QQT3Wp5Dx8idoG6CwPYwtLxSBEtIoE/12Iqd2oBL6yxsXVuXog+Sj5+9B+39jYH8kSfAH59pcMpQFQ70AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import SettingPage from './settingPage';\r\n\r\nexport default SettingPage;","import React, { Component } from 'react';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport DialogItem from '../../dialogItem/dialogItem';\r\nimport SabygramService from '../../../services/SabygramService';\r\nimport Header from '../../header';\r\nimport './dialogs.scss';\r\nimport AddContact from '../../addContact/addContact';\r\nimport SettingPage from '../settingPage';\r\n\r\nexport default class Dialogs extends Component {\r\n    service = new SabygramService();\r\n    dialogs = this.service.getDialogData();\r\n\r\n    state = {\r\n        slideGroup: 0,\r\n        itemsFound: null\r\n    }\r\n\r\n\r\n    slideChanged = (e) => {\r\n        if (e) {\r\n            this.setState({\r\n                slideGroup: e.activeIndex - 1\r\n            })\r\n        }\r\n    }\r\n\r\n    renderSearchItems = (dialogs) => {\r\n        this.setState({\r\n            itemsFound: dialogs\r\n        })\r\n    }\r\n\r\n    addContact = () => {\r\n        if (this.dialogs.length === 0) {\r\n            return (<AddContact />)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            \r\n                <Swiper className=\"mySwiper\" initialSlide=\"1\" onSlideChange={this.slideChanged}>\r\n                <Header  slot=\"container-start\" groupId={this.state.slideGroup} onSearch={this.renderSearchItems} dialogs={this.dialogs} />\r\n                <div className=\"dialog-container\">\r\n                    <SwiperSlide>\r\n                        <SettingPage />\r\n                    </SwiperSlide>\r\n\r\n                    <SwiperSlide>\r\n                        {this.addContact()}\r\n                        <RenderDialog dialogs={this.dialogs[0]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n\r\n                    <SwiperSlide>\r\n                        {this.addContact()}\r\n                        <RenderDialog dialogs={this.dialogs[1]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n\r\n\r\n                    <SwiperSlide>\r\n                        {this.addContact()}\r\n                        <RenderDialog dialogs={this.dialogs[2]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n                    </div>\r\n                </Swiper>\r\n            \r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst RenderDialog = ({ dialogs, itemsFound = null }) => {\r\n\r\n    let toSearchIn = null;\r\n\r\n    itemsFound ? toSearchIn = itemsFound : toSearchIn = dialogs;\r\n\r\n    if (dialogs) \r\n        return (\r\n        <div>\r\n            {\r\n                toSearchIn.map((dialog) => {\r\n                    return <DialogItem key={dialog.id} dialog={dialog} />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n    else return <div></div>\r\n}","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPaperPlane, faSmile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Picker from \"emoji-picker-react\";\r\n\r\n/**\r\n * This renders the form to send a new message.\r\n */\r\nconst MsgForm = (props) => {\r\n    const input = props.msgInput.current;\r\n\r\n    /** This functions handles the submission of the new message form */\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        /* We ensure the message is not empty, and trim any extra space\r\n         * before sending */\r\n        let trimmedMsg = props.savedMsg.trim();\r\n\r\n        if (trimmedMsg.length > 0) {\r\n            !props.editMode\r\n                ? props.addNewMessage(trimmedMsg, \"outgoing\")\r\n                : props.updateMessage(trimmedMsg);\r\n        }\r\n        if (!props.editMode) {\r\n            let phrase = \"\";\r\n            const generatedPhrase = async () => {\r\n                setTimeout(async () => {\r\n                    const result = await generatePhrase();\r\n                    phrase = result;\r\n                    props.addNewMessage(phrase, \"incoming\");\r\n                }, 2000);\r\n            };\r\n            const generatePhrase = () => {\r\n                return 'Какой-то текст'\r\n            };\r\n            generatedPhrase();\r\n        }\r\n\r\n    };\r\n\r\n    /** Update the saved message when the input changes */\r\n    const handleChange = (event) => {\r\n        props.setSavedMsg(event.currentTarget.value);\r\n    };\r\n\r\n    /** This state defines if the emoji picker is visible or not */\r\n    const [displayEmojis, setDisplayEmojis] = useState(false);\r\n\r\n    /**\r\n     * This function handles displaying or hiding the emoji picker on click\r\n     * @param {onClick} event\r\n     */\r\n    const handleDisplayPicker = (event) => {\r\n        event.preventDefault();\r\n        setDisplayEmojis(!displayEmojis);\r\n    };\r\n\r\n    /** Edit the latest message when up arrow is pressed */\r\n    const handleKeyPress = (event) => {\r\n        if (\r\n            event.keyCode === 38 &&\r\n            props.lastMessageIndex >= 0 &&\r\n            props.editMode === false\r\n        ) {\r\n            // Find the index of the latest outgoing message\r\n            let testIndex = props.lastMessageIndex;\r\n            while (props.currentMessages[testIndex].direction === \"incoming\") {\r\n                testIndex--;\r\n            }\r\n            input.blur();\r\n            setTimeout(() => {\r\n                props.enterEditMode(testIndex);\r\n            }, 0);\r\n        }\r\n    };\r\n    /**\r\n     * Adds an emoji in the string of the input, at the curor's current position\r\n     * Browser focus then returns to the text input and places the cursor after the\r\n     * emoji\r\n     */\r\n    const onEmojiClick = (event, emojiObject) => {\r\n        setDisplayEmojis(false);\r\n        const cursorPosition = input.selectionStart;\r\n        const selectionLength = input.selectionEnd - input.selectionStart;\r\n        const textArray = input.value.split(\"\");\r\n        textArray.splice(cursorPosition, selectionLength, emojiObject.emoji);\r\n        const newText = textArray.join(\"\");\r\n        props.setSavedMsg(newText);\r\n\r\n        input.focus();\r\n        input.selectionStart = input.selectionEnd = cursorPosition + 1;\r\n    };\r\n\r\n    return (\r\n        <form\r\n            className={\r\n                props.editMode ? \"message-form editing-input\" : \"message-form\"\r\n            }\r\n            onSubmit={handleSubmit}\r\n            key={\"MessageForm\"}\r\n        >\r\n            <div className={displayEmojis ? \"emoji-picker\" : \"hidden\"}>\r\n                <Picker disableAutoFocus={true} onEmojiClick={onEmojiClick} />\r\n            </div>\r\n            <button\r\n                type=\"button\"\r\n                className=\"open-emojis\"\r\n                onClick={handleDisplayPicker}\r\n            >\r\n                <FontAwesomeIcon icon={faSmile} />\r\n            </button>\r\n            <input\r\n                id=\"message-input\"\r\n                type=\"text\"\r\n                ref={props.msgInput}\r\n                className=\"message-input\"\r\n                placeholder=\"Message\"\r\n                autoComplete=\"off\"\r\n                onChange={handleChange}\r\n                value={props.savedMsg || \"\"}\r\n                onKeyDown={handleKeyPress}\r\n            />\r\n            <button type=\"submit\" className=\"send-message\">\r\n                <span className=\"sr-only\">send</span>\r\n                <FontAwesomeIcon icon={faPaperPlane} />\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default MsgForm;\r\n","import React from \"react\";\r\n\r\nconst Message = (props) => {\r\n    const handleClick = () => props.enterEditMode(props.index);\r\n\r\n    return (\r\n        <>\r\n            {props.message.direction === \"outgoing\" ? (\r\n                <div className=\"outgoing\">\r\n                    <button\r\n                        className={\r\n                            props.editMode && props.index === props.editIndex\r\n                                ? \"message editing\"\r\n                                : \"message\"\r\n                        }\r\n                        onClick={handleClick}\r\n                    >\r\n                        {props.message.message}\r\n                    </button>\r\n                    <p className=\"msg-date\">\r\n                        {props.message.edit\r\n                            ? \"изменено \" + props.message.edit\r\n                            : props.message.time}\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"incoming\">\r\n                    <div className=\"message\">{props.message.message}</div>\r\n                    <p className=\"msg-date\">\r\n                        {props.message.edit\r\n                            ? \"изменено \" + props.message.edit\r\n                            : props.message.time}\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport MsgForm from \"../msgForm\";\r\nimport Message from \"../message\";\r\n\r\n/**\r\n * This renders the entire chat window, including the list of messages and the\r\n * input for new messages.\r\n */\r\nconst ChatWindow = (props) => {\r\n    const currentFriend = props.messages.name;\r\n    const currentMessages = props.messages.messages;\r\n    const messageList = useRef(null);\r\n\r\n    /**\r\n     * This effect ensures the pages scrolls to the bottom of the page if the\r\n     * height of the message list is longer than the height of its container\r\n     */\r\n    useEffect(() => {\r\n        if (messageList) {\r\n            messageList.current.addEventListener(\"DOMNodeInserted\", (event) => {\r\n                const { currentTarget: target } = event;\r\n                target.scroll({ top: target.scrollHeight });\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"chat-window\">\r\n            <ul className=\"message-list\" ref={messageList}>\r\n                {currentMessages.length !== 0\r\n                    ? currentMessages.map((message, index) => (\r\n                        <li key={index}>\r\n                            <Message\r\n                                message={message}\r\n                                enterEditMode={props.enterEditMode}\r\n                                index={index}\r\n                                editMode={props.editMode}\r\n                                editIndex={props.editIndex}\r\n                            />\r\n                        </li>\r\n                    ))\r\n                    : null}\r\n            </ul>\r\n\r\n            {currentMessages.length === 0 ? (\r\n                <p className=\"no-message\">\r\n                    This is the beginning of your conversation with{\" \"}\r\n                    {currentFriend}\r\n                </p>\r\n            ) : null}\r\n\r\n            <MsgForm\r\n                addNewMessage={props.addNewMessage}\r\n                updateSaved={props.updateSaved}\r\n                setSavedMsg={props.setSavedMsg}\r\n                savedMsg={props.savedMsg}\r\n                currentMessages={currentMessages}\r\n                addNewMessage={props.addNewMessage}\r\n                updateMessage={props.updateMessage}\r\n                editMode={props.editMode}\r\n                setEditMode={props.setEditMode}\r\n                editIndex={props.editIndex}\r\n                enterEditMode={props.enterEditMode}\r\n                lastMessageIndex={currentMessages.length - 1}\r\n                msgInput={props.msgInput}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import Header from './header';\r\nexport default Header;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './header.scss';\r\n\r\nconst MsgHeader = ({ groupId, name, img }) => {\r\n    let groupName = null;\r\n    const history = useHistory();\r\n    const handleClick = () => history.push(`/dialogs`);\r\n    switch (groupId) {\r\n        case 0:\r\n            groupName = \"Общие\";\r\n            break;\r\n        case 1:\r\n            groupName = \"Громкие\";\r\n            break;\r\n        case 2:\r\n            groupName = \"Тихие\";\r\n            break;\r\n        default:\r\n            groupName = null;\r\n    }\r\n\r\n    return (\r\n        <header className=\"message-header\">\r\n            <i className=\"fas fa-arrow-left\" onClick={handleClick}></i>\r\n            <img src={img} alt=\"dialogPicture\" className=\"message-dialog-img\" />\r\n            <div className='flex-names'>\r\n                <div className='user-name'>{name}</div>\r\n                <div className=\"group-name\">{groupName}</div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default MsgHeader;","import React, { useState, useRef } from \"react\";\r\nimport ChatWindow from \"../chatWindow\";\r\nimport './chatApp.scss';\r\nimport MsgHeader from \"../msgHeader\";\r\nimport SabygramService from \"../../services/SabygramService\";\r\n\r\n/**\r\n * The chat application\r\n */\r\nconst ChatApp = () => {\r\n    /**\r\n     * The currentConv state determines the conversation currently rendered\r\n     */\r\n    const [currentConv, setCurrentConv] = useState('0');\r\n    //индекс диалога в группе\r\n\r\n    /** The editMode state defines if a message is being edited or not */\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    /** editIndex holds the index of the message currently being edited */\r\n    const [editIndex, setEditIndex] = useState(null);\r\n\r\n    const msgInput = useRef();\r\n    const service = new SabygramService();\r\n    const dialogs = service.getDialogData(0);\r\n    //индекс группы\r\n\r\n    /**\r\n     * The data object holds all friends and their related messages\r\n     */\r\n    const [data, setData] = useState({\r\n        0: { name: dialogs[0][currentConv].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0][currentConv].img },\r\n        1: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[1].img },\r\n        2: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 1, img: dialogs[1].img },\r\n        3: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\r\n        4: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\r\n    });\r\n    //поменять индексы и должно работать, но не могу с сервиса забрать в пропс сразу\r\n\r\n    /**\r\n     * The savedMsg state hold the text currently displayed in the message input\r\n     */\r\n    const [savedMsg, setSavedMsg] = useState(\"\");\r\n\r\n    /**\r\n     * Add a message to the current conversation\r\n     * @param {string} newMessage\r\n     * @param {string} direction\r\n     */\r\n    const addNewMessage = (newMessage, direction) => {\r\n        const selectedConv = data[currentConv];\r\n        const time = new Date().toLocaleString();\r\n        selectedConv.messages.push({\r\n            message: newMessage,\r\n            time: time,\r\n            direction: direction,\r\n        });\r\n        const updatedData = { ...data };\r\n        updatedData[currentConv] = selectedConv;\r\n        setData(updatedData);\r\n        setSavedMsg(\"\");\r\n    };\r\n\r\n    /**\r\n     * The following function saves any unsent message to that current conversation\r\n     * object\r\n     * @param {string} msg The saved message\r\n     */\r\n    const updateSaved = (msg) => {\r\n        const selectedConv = data[currentConv];\r\n        selectedConv.saved = msg;\r\n        const updatedData = { ...data };\r\n        updatedData[currentConv] = selectedConv;\r\n        setData(updatedData);\r\n    };\r\n\r\n    /**\r\n     * The following finds the message to be edited, adds this\r\n     * message to the text input and focuses on it.\r\n     * @param {number} index The index of the message to be edited\r\n     */\r\n    const enterEditMode = (index) => {\r\n        const savedMessage = data[currentConv].messages[index].message;\r\n        setEditIndex(index);\r\n        setSavedMsg(savedMessage);\r\n        setEditMode(true);\r\n        msgInput.current.focus();\r\n    };\r\n\r\n    /**\r\n     * This message updates a message and turns off \"edit mode\"\r\n     * @param {string} newMessage The updated message\r\n     */\r\n    const updateMessage = (newMessage) => {\r\n        if (newMessage.trim().length > 0) {\r\n            const selectedConv = data[currentConv];\r\n            const time = new Date().toLocaleString();\r\n            selectedConv.messages[editIndex].message = newMessage;\r\n            selectedConv.messages[editIndex].edit = time;\r\n            const updatedData = { ...data };\r\n            updatedData[currentConv] = selectedConv;\r\n            setData(updatedData);\r\n        }\r\n        setEditMode(false);\r\n        setSavedMsg(\"\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <MsgHeader\r\n                groupId={data[currentConv].groupId}\r\n                name={data[currentConv].name}\r\n                img={data[currentConv].img} />\r\n            <div className=\"chat-container\">\r\n                <ChatWindow\r\n                    messages={data[currentConv]}\r\n                    addNewMessage={addNewMessage}\r\n                    updateSaved={updateSaved}\r\n                    setSavedMsg={setSavedMsg}\r\n                    savedMsg={savedMsg}\r\n                    editMode={editMode}\r\n                    setEditMode={setEditMode}\r\n                    editIndex={editIndex}\r\n                    setEditIndex={setEditIndex}\r\n                    updateMessage={updateMessage}\r\n                    msgInput={msgInput}\r\n                    enterEditMode={enterEditMode}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ChatApp;\r\n","import React, {Component} from 'react';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport Header from '../../header';\r\nimport SettingPage from '../settingPage';\r\nimport SabygramService from '../../../services/SabygramService';\r\nimport AddContact from '../../addContact/addContact';\r\nimport './contacts.scss';\r\n\r\nexport default class Contacts extends Component{\r\n    service = new SabygramService();\r\n    dialogs = this.service.getDialogData();\r\n\r\n    state = {\r\n        slideGroup: \"all\",\r\n        itemsFound: null\r\n    }\r\n    slideChanged = (e) => {\r\n        if (e && e.activeIndex === 1) {\r\n            this.setState({\r\n                slideGroup: \"all\"\r\n            })\r\n        }\r\n        else this.setState({\r\n            slideGroup: null\r\n        })\r\n    }\r\n    renderSearchItems = (dialogs) => {\r\n        this.setState({\r\n            itemsFound: dialogs\r\n        })\r\n    }\r\n\r\n    addContact = () => {\r\n        if (this.dialogs.length === 0) {\r\n            return (<AddContact />)\r\n        }\r\n    }\r\n    swipePrev = () => {\r\n        //console.log(document.querySelector('.mySwiper')) //.slidePrev()\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <Swiper className=\"mySwiper\" initialSlide=\"1\" onSlideChange={this.slideChanged}>\r\n                <Header slot=\"container-start\" groupId={this.state.slideGroup} onSettings={this.swipePrev} onSearch={this.renderSearchItems} dialogs={this.dialogs}/>\r\n                <SwiperSlide>\r\n                    <SettingPage />\r\n                </SwiperSlide>\r\n    \r\n                <SwiperSlide>\r\n                    {this.addContact()}\r\n                    <RenderContact dialogs={this.dialogs} itemsFound={this.state.itemsFound}/>\r\n                </SwiperSlide>\r\n            </Swiper>\r\n        )\r\n    }\r\n    \r\n}\r\nconst RenderContact = ({dialogs, itemsFound = null }) => {\r\n    let toSearchIn = null;\r\n    if(dialogs.length !== 0)  itemsFound ? toSearchIn = itemsFound : toSearchIn = [...dialogs[0], ...dialogs[1], ...dialogs[2]];\r\n\r\n    if(toSearchIn)\r\n        return(\r\n        <div className=\"dialog-container\">{ \r\n            toSearchIn.map((dialog) => {\r\n                return <div key={dialog.id} className=\"contact\">\r\n                    <img src={dialog.img} alt=\"dialogPicture\" className=\"contacts-img\" />\r\n                    {dialog.name}</div>\r\n            })\r\n        }\r\n        </div>\r\n    )\r\n    else return <div></div>\r\n}\r\n","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Switch, Route } from 'react-router';\r\nimport Auth from '../pages/auth/auth';\r\nimport Edit from '../pages/edit/edit';\r\nimport Dialogs from '../pages/dialogs/dialogs';\r\nimport ChatApp from '../chatApp/index'\r\nimport Contacts from '../pages/contacts/contacts';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Auth} />\r\n            <Route path=\"/edit\" component={Edit} />\r\n            <Route path=\"/dialogs\" component={Dialogs} />\r\n            <Route path=\"/contacts\" component={Contacts} />\r\n            <Route path=\"/chatapp/:id\"\r\n                render={({ match }) => {\r\n                    const { id } = match.params;\r\n                    return <ChatApp dialogId={id} />\r\n                }}\r\n            />\r\n\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default App;\r\n","const initialState = {\r\n    isAuthenticated: false, //входил раньше, осталось в кэше браузера\r\n    isRegistrated: false, //регистрировался раньше \r\n    myUserName: '',\r\n    myWelcomeMessage: '',\r\n    myProfilePhoto: null,\r\n    myPassword: null,\r\n    myPhone: null\r\n\r\n}\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_MY_PASSWORD\": {\r\n            return {\r\n                ...state,\r\n                myPassword: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PHONE\": {\r\n            return {\r\n                ...state,\r\n                myPhone: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PROFILE_PHOTO\": {\r\n            return {\r\n                ...state,\r\n                myProfilePhoto: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_WELCOME_MESSAGE\": {\r\n            return {\r\n                ...state,\r\n                myWelcomeMessage: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_USER_NAME\": {\r\n            return {\r\n                ...state,\r\n                myUserName: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer); \r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\n\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}