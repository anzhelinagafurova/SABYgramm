{"version":3,"sources":["components/dialogItem/dialogItem.js","components/pages/auth/auth.js","components/pages/edit/edit.js","services/SabygramService.js","components/header/index.js","components/header/header.js","components/addContact/addContact.js","components/pages/dialogs/dialogs.js","components/app/index.js","components/app/app.js","components/context/context.js","reducers/index.js","store.js","index.js"],"names":["timer","Auth","renderAuthPage","props","password","phone","className","method","action","onSubmit","sendForm","type","name","placeholder","value","onChange","setPhone","maxLength","pattern","required","setPassword","e","preventDefault","target","submit","history","push","this","isAuthenticated","isRegistrated","Component","connect","dispatch","newPhone","payload","newPassword","Edit","setPhoto","reader","FileReader","file","files","readAsDataURL","onload","setProfilePhoto","result","document","getElementById","pictureUrl","onerror","alert","setData","setUserName","username","setWelcomeMessage","message","photo","newPhotoSvg","toUpperCase","blob","Blob","URL","createObjectURL","id","htmlFor","src","alt","accept","hidden","myProfilePhoto","myWelcomeMessage","myUserName","dialogs","getElementsByClassName","settings","createElement","touchend","clearTimeout","touchstart","current","currentTarget","setTimeout","appendChild","innerHTML","addEventListener","event","i","length","dialog","remove","DialogItem","lastMessage","img","SabygramService","dialogData","formData","a","fetch","body","login","ok","Header","groupId","onSearch","useState","inputVisible","setVisibility","groupName","onInput","dialogsFound","forEach","toLowerCase","includes","onBlur","autoFocus","onClick","AddContact","state","changePlaceholderFocus","setState","changePlaceholderBlur","changePhone","onFocus","RenderDialog","service","itemsFound","toSearchIn","getDialogData","map","Dialogs","slideGroup","setSlideGroup","setFound","onSlideChange","activeIndex","addContact","App","exact","path","component","render","match","params","React","createContext","ServiceProvider","Provider","Consumer","initialState","myPassword","myPhone","reducer","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.1838dd19.chunk.js","sourcesContent":["import React from 'react';\r\nimport './dialogItem.scss';\r\n\r\nlet timer;\r\nlet touchduration = 500;\r\nlet dialogs = document.getElementsByClassName('dialog');\r\nlet settings = document.createElement('ul');\r\nsettings.innerHTML = '<li>Сделать тихим</li><li>Сделать гроким</li><li>Удалить</li>';\r\nsettings.className = 'settings';\r\nfunction touchend() {\r\n    if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n    }\r\n}\r\n\r\nfunction touchstart(e) {\r\n    const current = e.currentTarget\r\n    if (!timer) {\r\n        timer = setTimeout(() => { current.appendChild(settings) }, touchduration);\r\n    }\r\n};\r\ndocument.addEventListener(\"DOMSubtreeModified\", function (event) {\r\n    for (let i = 0; i < dialogs.length; i++) {\r\n        let dialog = dialogs[i];\r\n        dialog.addEventListener(\"touchstart\", touchstart, false);\r\n        dialog.addEventListener(\"touchend\", touchend, false);\r\n        dialog.addEventListener(\"mousedown\", touchstart, false);\r\n        dialog.addEventListener(\"mouseup\", touchend, false);\r\n\r\n    }\r\n})\r\ndocument.getElementById('root').addEventListener('click', function () {\r\n    settings.remove();\r\n})\r\n\r\n//onMouseDown={touchstart} onMouseUp={touchend} onTouchStart={touchstart} onTouchEnd={touchend}\r\nconst DialogItem = ({ dialog: { name, lastMessage, img } }) => {\r\n    return (\r\n\r\n        <div className=\"dialog\" >\r\n            <img src={img} alt=\"dialogPicture\" className=\"dialog-img\" />\r\n            <div className=\"dialog-contain\">\r\n                <p className=\"dialog-name\">{name}</p>\r\n                <p className=\"dialog-message\">{lastMessage}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default DialogItem;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nimport './auth.scss';\r\n\r\nclass Auth extends Component {\r\n\r\n    renderAuthPage = () => {\r\n        const { password, phone } = this.props;\r\n        return (\r\n            <section className='login-container'>\r\n                <h1 className='login-text'>вход</h1>\r\n                <form method=\"POST\" action=\"\" onSubmit={this.sendForm} className='login-form'>\r\n                    <div className='tel-wrapper'>\r\n                        <p className=\"number-7\">+7</p>\r\n                        <input type=\"tel\" name=\"phone-number\" placeholder='Тел. номер' value={phone} onChange={this.props.setPhone} maxLength=\"10\" pattern=\"\\d*\" required></input>\r\n                    </div>\r\n                    <input type=\"text\" name=\"password\" placeholder='Пароль' onChange={this.props.setPassword} value={password} required></input>\r\n                    <button type=\"submit\" className='login-button'><i className=\"fas fa-play\" ></i></button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n    sendForm = (e) => {\r\n        e.preventDefault();       \r\n        e.target.submit();\r\n        const { history } = this.props;\r\n        history.push('/edit');\r\n    }\r\n\r\n    render() {\r\n        const { isAuthenticated, isRegistrated } = this.props;\r\n        if (isAuthenticated && isRegistrated) {\r\n            return (<div>старинца с диалогами</div>)\r\n        }\r\n        else if (!isRegistrated) {\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n        else if (!isAuthenticated && isRegistrated) { //заменить на dialig\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = ({ isAuthenticated, isRegistrated }) => {\r\n    return {\r\n        isAuthenticated,\r\n        isRegistrated\r\n    }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n    return {\r\n        setPhone: (e) => {\r\n            const newPhone = e.target.value;\r\n            dispatch({ type: \"SET_MY_PASSWORD\", payload: newPhone })\r\n        },\r\n        setPassword: (e) => {\r\n            const newPassword = e.target.value;\r\n            dispatch({ type: \"SET_MY_PHONE\", payload: newPassword })\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport './edit.css';\r\n\r\nclass Edit extends Component {\r\n\r\n  setPhoto = (e) => {\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      this.props.setProfilePhoto(reader.result);\r\n      document.getElementById(\"editForm\").pictureUrl.value = reader.result\r\n    }\r\n    reader.onerror = () => {\r\n      alert(\"Возникла ошибка при загрузке фотографии\")\r\n    }\r\n  }\r\n\r\n  setData = (e) => {\r\n    this.props.setUserName(document.getElementById(\"editForm\").username.value);\r\n    this.props.setWelcomeMessage(document.getElementById(\"editForm\").message.value);\r\n\r\n    if(!this.props.photo) {\r\n      const newPhotoSvg = \r\n        `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\" >\r\n        <circle cx=\"130\" cy=\"130\" r=\"180\"  fill=\"#738DED\" width=\"200\" />\r\n          <text x=\"90\" y=\"220\" font-size=\"180\" font-family=\"Roboto, sans-serif\" fill=\"white\"> ${document.getElementById(\"editForm\").username.value[0].toUpperCase()}\r\n          </text>     \r\n        </svg>`\r\n\r\n      let blob = new Blob([newPhotoSvg], {type: 'image/svg+xml'});\r\n      const file = URL.createObjectURL(blob);\r\n      this.props.setProfilePhoto(file);\r\n      document.getElementById(\"editForm\").pictureUrl.value = file;\r\n    }\r\n\r\n    document.getElementById(\"editForm\").submit();\r\n  }\r\n  render() {\r\n    const { photo } = this.props;\r\n\r\n    return (\r\n\r\n      <section className='edit-container'>\r\n        <form className='name-form' id=\"editForm\" action=\"\" method=\"POST\" onSubmit={this.setData}>\r\n          <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background\">\r\n\r\n            {photo ? <img src={photo} alt=\"Profile icon\" className=\"profile-photo\"></img> : <div className=\"plus\">+</div>}\r\n            <input type=\"file\" id=\"picture\" accept=\"image/*\" onChange={this.setPhoto}/>\r\n          </label>\r\n\r\n          <input type=\"text\" name=\"pictureUrl\" hidden></input>\r\n          \r\n          <p className='photo-label'>Фото</p>\r\n\r\n          <input type=\"text\" name=\"username\" placeholder='Ваше имя' required ></input>\r\n\r\n          <input type=\"text\" name=\"message\" placeholder='Привет всем друзьям!' required ></input>\r\n\r\n          <button type=\"submit\" className='edit-button' ><i className=\"fas fa-play\"></i></button>\r\n\r\n        </form>\r\n      </section>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ myProfilePhoto, myWelcomeMessage, myUserName }) => {\r\n  return {\r\n    name: myUserName,\r\n    message: myWelcomeMessage,\r\n    photo: myProfilePhoto\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n  return {\r\n    setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\r\n    setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\r\n    setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Edit)\r\n\r\n","export default class SabygramService {\r\n    dialogData = [\r\n        [\r\n            {//добавить время последнего сообщения\r\n                id: 0,\r\n                name: \"Анжелина\",\r\n                lastMessage: \"Как ты?\",\r\n                img: \"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Крис\",\r\n                lastMessage: \"Встала сегодня в 6 утра прикинь...\",\r\n                img: \"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo\"\r\n            },\r\n        ],\r\n        [\r\n\r\n            {\r\n                id: 2,\r\n                name: \"Сергей\",\r\n                lastMessage: \"Не забывайте подписывать время в тасках\",\r\n                img: \"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Эдуард\",\r\n                lastMessage: \"Пароль не подошел\",\r\n                img: \"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg\"\r\n            },\r\n            {\r\n                id: 7,\r\n                name: \"Серёжа\",\r\n                lastMessage: \"Привет, у меня вопрос\",\r\n                img: \"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1\"\r\n            }\r\n        ],\r\n        [\r\n            {\r\n                id: 4,\r\n                name: \"Вова\",\r\n                lastMessage: \"Выучил реакт за час\",\r\n                img: \"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"Саша\",\r\n                lastMessage: \"Я на 2 этаже куда идти?\",\r\n                img: \"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg\"\r\n            },\r\n            {\r\n                id: 6,\r\n                name: \"Лёша\",\r\n                lastMessage: \"Я в столовой, если что\",\r\n                img: \"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200\"\r\n            }\r\n        ]\r\n    ];\r\n\r\n    async sendLoginForm(formData) {\r\n        let response = await fetch('/', {\r\n            method: 'POST',\r\n            body: {\r\n                login: formData.login,\r\n                password: formData.password\r\n            }\r\n        });\r\n        if (response.ok) {\r\n            alert(\"Logged in!\")\r\n        }\r\n    }\r\n\r\n    getDialogData(id) {\r\n        return this.dialogData[id];\r\n    }\r\n\r\n}","import Header from './header';\r\nexport default Header;","import React, {useState} from 'react';\r\nimport './header.scss';\r\n\r\nconst Header = ({ groupId,  onSearch, dialogs}) => {\r\n    const [inputVisible, setVisibility] = useState(false);\r\n\r\n    let groupName = null;\r\n\r\n    switch (groupId){\r\n        case 0:\r\n            groupName = \"Общие\";\r\n            break;\r\n        case 1:\r\n            groupName = \"Громкие\";\r\n            break;\r\n        case 2:\r\n            groupName = \"Тихие\";\r\n            break;\r\n        default:\r\n            groupName = null;         \r\n    }\r\n\r\n    const handleSearch = () => {\r\n        inputVisible === false ? setVisibility(true) : setVisibility(false)\r\n    }\r\n\r\n    const searchDialogs = (e) => {\r\n        let dialogsFound = [];\r\n        dialogs.forEach((dialog) => {\r\n            if(dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\r\n                dialogsFound.push(dialog)\r\n        })\r\n        onSearch(dialogsFound, groupId)\r\n    }\r\n\r\n    const clearDialogs = (e) => {\r\n        onSearch(null, groupId);\r\n        setVisibility(false);\r\n        e.target.value = null\r\n    }\r\n    \r\n    return(\r\n        <header className=\"dialogs-header\">\r\n            <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\r\n            <i className=\"fa fa-users\" aria-hidden=\"true\"></i>\r\n            <div className=\"group-name\">{ groupName }</div>\r\n            <input type=\"text\" className=\"dialogs-search\" onInput={searchDialogs} onBlur={clearDialogs} hidden={!inputVisible} autoFocus={true}></input>\r\n            <i className=\"fa fa-search\" aria-hidden=\"true\" onClick={handleSearch}></i>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport './addContact.scss';\r\n\r\nexport default class AddContact extends Component {\r\n\r\n  state = {\r\n    placeholder: 'Добавить контакт',\r\n    phone: ''\r\n  }\r\n\r\n  changePlaceholderFocus = () => {\r\n    this.setState({\r\n      placeholder: 'Номер телефона'\r\n    })\r\n  }\r\n\r\n  changePlaceholderBlur = () => {\r\n    this.setState({\r\n      placeholder: 'Добавить контакт'\r\n    })\r\n  }\r\n\r\n  changePhone = (e) => {\r\n    this.setState(\r\n      {\r\n        phone: e.target.value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className='add-contact-form'>\r\n        <input className='add-contact' placeholder={this.state.placeholder} onFocus={this.changePlaceholderFocus} onBlur={this.changePlaceholderBlur} value={this.state.phone} onChange={this.changePhone} />\r\n      </form>\r\n    )\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport DialogItem from '../../dialogItem/dialogItem';\r\nimport SabygramService from '../../../services/SabygramService';\r\nimport Header from '../../header';\r\nimport './dialogs.scss';\r\nimport AddContact from '../../addContact/addContact';\r\n\r\nconst Dialogs = ({ groupId }) => {\r\n    const [slideGroup, setSlideGroup] = useState(+groupId);\r\n    const [itemsFound, setFound] = useState(null);\r\n\r\n    const service = new SabygramService();\r\n    const dialogs = service.getDialogData(slideGroup);\r\n\r\n    const slideChanged = (e) => {\r\n        if (e) {\r\n            setSlideGroup(e.activeIndex)\r\n        }\r\n    }\r\n\r\n    const RenderSearchItems = (dialogs, groupId) => {\r\n        if (groupId === slideGroup)\r\n            setFound(dialogs)\r\n    }\r\n\r\n    const addContact = () => {\r\n        if (dialogs.length === 0) {\r\n            return (<AddContact />)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialog-container\">\r\n            <Header groupId={slideGroup} onSearch={RenderSearchItems} dialogs={dialogs} />\r\n            <Swiper className=\"mySwiper\" onSlideChange={slideChanged}>\r\n                <SwiperSlide>\r\n                    {addContact()}\r\n                    <RenderDialog groupId={0} service={service} itemsFound={itemsFound} />\r\n                </SwiperSlide>\r\n\r\n                <SwiperSlide>\r\n                    <RenderDialog groupId={1} service={service} itemsFound={itemsFound} />\r\n                </SwiperSlide>\r\n\r\n                <SwiperSlide>\r\n                    <RenderDialog groupId={2} service={service} itemsFound={itemsFound} />\r\n                </SwiperSlide>\r\n            </Swiper>\r\n            <br />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst RenderDialog = ({ groupId, service, itemsFound = null }) => {\r\n    let toSearchIn = null;\r\n\r\n    itemsFound ? toSearchIn = itemsFound : toSearchIn = service.getDialogData(groupId);\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                toSearchIn.map((dialog) => {\r\n                    return <DialogItem key={dialog.id} dialog={dialog} />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Switch, Route } from 'react-router';\r\nimport Auth from '../pages/auth/auth';\r\nimport Edit from '../pages/edit/edit';\r\nimport Dialogs from '../pages/dialogs/dialogs';\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Auth} />\r\n            <Route path=\"/edit\" component={Edit} />\r\n            <Route path=\"/dialogs/:id\"\r\n                render={({ match }) => {\r\n                    const { id } = match.params;\r\n                    return <Dialogs groupId={id} />\r\n                }}\r\n            />\r\n            \r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default App;","import React from 'react';\r\n\r\nconst {\r\n    Provider: ServiceProvider,\r\n    Consumer: ServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    ServiceProvider,\r\n    ServiceConsumer\r\n}","const initialState = {\r\n    isAuthenticated: false, //входил раньше, осталось в кэше браузера\r\n    isRegistrated: false, //регистрировался раньше \r\n    myUserName: '',\r\n    myWelcomeMessage: '',\r\n    myProfilePhoto: null,\r\n    myPassword: null,\r\n    myPhone: null\r\n\r\n}\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_MY_PASSWORD\": {\r\n            return {\r\n                ...state,\r\n                myPassword: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PHONE\": {\r\n            return {\r\n                ...state,\r\n                myPhone: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PROFILE_PHOTO\": {\r\n            return {\r\n                ...state,\r\n                myProfilePhoto: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_WELCOME_MESSAGE\": {\r\n            return {\r\n                ...state,\r\n                myWelcomeMessage: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_USER_NAME\": {\r\n            return {\r\n                ...state,\r\n                myUserName: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer); \r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport SabygramService from './services/SabygramService';\r\nimport { ServiceProvider } from './components/context';\r\n\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ServiceProvider value={SabygramService}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </ServiceProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}