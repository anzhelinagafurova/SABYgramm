{"version":3,"sources":["components/dialogItem/dialogItem.js","components/pages/auth/auth.js","components/pages/edit/edit.js","services/SabygramService.js","components/header/index.js","components/header/header.js","components/addContact/addContact.js","components/pages/dialogs/dialogs.js","components/app/index.js","components/app/app.js","components/context/context.js","reducers/index.js","store.js","index.js"],"names":["timer","Auth","renderAuthPage","props","password","phone","className","method","action","type","name","placeholder","value","onChange","setPhone","maxLength","pattern","required","setPassword","this","isAuthenticated","isRegistrated","Component","connect","dispatch","e","newPhone","target","payload","newPassword","Edit","setPhoto","reader","FileReader","file","files","readAsDataURL","onload","setProfilePhoto","result","document","getElementById","pictureUrl","onerror","alert","setData","setUserName","username","setWelcomeMessage","message","photo","newPhotoSvg","toUpperCase","blob","Blob","URL","createObjectURL","submit","id","onSubmit","htmlFor","src","alt","accept","hidden","myProfilePhoto","myWelcomeMessage","myUserName","dialogs","getElementsByClassName","settings","createElement","touchend","clearTimeout","touchstart","current","currentTarget","setTimeout","appendChild","innerHTML","addEventListener","event","i","length","dialog","remove","DialogItem","lastMessage","img","SabygramService","dialogData","formData","a","fetch","body","login","ok","Header","groupId","onSearch","useState","inputVisible","setVisibility","groupName","onInput","dialogsFound","forEach","toLowerCase","includes","push","onBlur","autoFocus","onClick","AddContact","state","changePlaceholderFocus","setState","changePlaceholderBlur","changePhone","onFocus","RenderDialog","service","itemsFound","toSearchIn","getDialogData","map","Dialogs","slideGroup","setSlideGroup","setFound","onSlideChange","activeIndex","addContact","App","exact","path","component","render","match","params","React","createContext","ServiceProvider","Provider","Consumer","initialState","myPassword","myPhone","reducer","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.b115d439.chunk.js","sourcesContent":["import React from 'react';\nimport './dialogItem.scss';\n\nlet timer;\nlet touchduration = 500;\nlet dialogs = document.getElementsByClassName('dialog');\nlet settings = document.createElement('ul');\nsettings.innerHTML = '<li>Сделать тихим</li><li>Сделать гроким</li><li>Удалить</li>';\nsettings.className = 'settings';\nfunction touchend() {\n    if (timer) {\n        clearTimeout(timer);\n        timer = null;\n    }\n}\n\nfunction touchstart(e) {\n    const current = e.currentTarget\n    if (!timer) {\n        timer = setTimeout(() => { current.appendChild(settings) }, touchduration);\n    }\n};\ndocument.addEventListener(\"DOMSubtreeModified\", function (event) {\n    for (let i = 0; i < dialogs.length; i++) {\n        let dialog = dialogs[i];\n        dialog.addEventListener(\"touchstart\", touchstart, false);\n        dialog.addEventListener(\"touchend\", touchend, false);\n        dialog.addEventListener(\"mousedown\", touchstart, false);\n        dialog.addEventListener(\"mouseup\", touchend, false);\n\n    }\n})\ndocument.getElementById('root').addEventListener('click', function () {\n    settings.remove();\n})\n\n//onMouseDown={touchstart} onMouseUp={touchend} onTouchStart={touchstart} onTouchEnd={touchend}\nconst DialogItem = ({ dialog: { name, lastMessage, img } }) => {\n    return (\n\n        <div className=\"dialog\" >\n            <img src={img} alt=\"dialogPicture\" className=\"dialog-img\" />\n            <div className=\"dialog-contain\">\n                <p className=\"dialog-name\">{name}</p>\n                <p className=\"dialog-message\">{lastMessage}</p>\n            </div>\n        </div>\n    )\n}\n\n\n\n\nexport default DialogItem;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\n\nimport './auth.scss';\n\nclass Auth extends Component {\n\n    renderAuthPage = () => {\n        const { password, phone } = this.props;\n        return (\n            <section className='login-container'>\n                <h1 className='login-text'>вход</h1>\n                <form method=\"POST\" action=\"\" className='login-form'>\n                    <div className='tel-wrapper'>\n                        <p className=\"number-7\">+7</p>\n                        <input type=\"tel\" name=\"phone-number\" placeholder='Тел. номер' value={phone} onChange={this.props.setPhone} maxLength=\"10\" pattern=\"\\d*\" required></input>\n                    </div>\n                    <input type=\"text\" name=\"password\" placeholder='Пароль' onChange={this.props.setPassword} value={password} required></input>\n                    <button type=\"submit\" className='login-button'><i className=\"fas fa-play\" ></i></button>\n                </form>\n            </section>\n        )\n    }\n    //sendForm = (e) => {\n        //e.preventDefault();       \n        //e.target.submit();\n        //const { history } = this.props;\n        //history.push('/edit');\n    //}\n\n    render() {\n        const { isAuthenticated, isRegistrated } = this.props;\n        if (isAuthenticated && isRegistrated) {\n            return (<div>старинца с диалогами</div>)\n        }\n        else if (!isRegistrated) {\n            return (this.renderAuthPage(\"/edit\"))\n        }\n        else if (!isAuthenticated && isRegistrated) { //заменить на dialig\n            return (this.renderAuthPage(\"/edit\"))\n        }\n    }\n}\nconst mapStateToProps = ({ isAuthenticated, isRegistrated }) => {\n    return {\n        isAuthenticated,\n        isRegistrated\n    }\n}\n\nconst mapDispatchProps = (dispatch) => {\n    return {\n        setPhone: (e) => {\n            const newPhone = e.target.value;\n            dispatch({ type: \"SET_MY_PASSWORD\", payload: newPhone })\n        },\n        setPassword: (e) => {\n            const newPassword = e.target.value;\n            dispatch({ type: \"SET_MY_PHONE\", payload: newPassword })\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport './edit.css';\n\nclass Edit extends Component {\n\n  setPhoto = (e) => {\n    const reader = new FileReader();\n    const file = e.target.files[0];\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      this.props.setProfilePhoto(reader.result);\n      document.getElementById(\"editForm\").pictureUrl.value = reader.result\n    }\n    reader.onerror = () => {\n      alert(\"Возникла ошибка при загрузке фотографии\")\n    }\n  }\n\n  setData = (e) => {\n    this.props.setUserName(document.getElementById(\"editForm\").username.value);\n    this.props.setWelcomeMessage(document.getElementById(\"editForm\").message.value);\n\n    if(!this.props.photo) {\n      const newPhotoSvg = \n        `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\" >\n        <circle cx=\"130\" cy=\"130\" r=\"180\"  fill=\"#738DED\" width=\"200\" />\n          <text x=\"90\" y=\"220\" font-size=\"180\" font-family=\"Roboto, sans-serif\" fill=\"white\"> ${document.getElementById(\"editForm\").username.value[0].toUpperCase()}\n          </text>     \n        </svg>`\n\n      let blob = new Blob([newPhotoSvg], {type: 'image/svg+xml'});\n      const file = URL.createObjectURL(blob);\n      this.props.setProfilePhoto(file);\n      document.getElementById(\"editForm\").pictureUrl.value = file;\n    }\n\n    document.getElementById(\"editForm\").submit();\n  }\n  render() {\n    const { photo } = this.props;\n\n    return (\n\n      <section className='edit-container'>\n        <form className='name-form' id=\"editForm\" action=\"\" method=\"POST\" onSubmit={this.setData}>\n          <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background\">\n\n            {photo ? <img src={photo} alt=\"Profile icon\" className=\"profile-photo\"></img> : <div className=\"plus\">+</div>}\n            <input type=\"file\" id=\"picture\" accept=\"image/*\" onChange={this.setPhoto}/>\n          </label>\n\n          <input type=\"text\" name=\"pictureUrl\" hidden></input>\n          \n          <p className='photo-label'>Фото</p>\n\n          <input type=\"text\" name=\"username\" placeholder='Ваше имя' required ></input>\n\n          <input type=\"text\" name=\"message\" placeholder='Привет всем друзьям!' required ></input>\n\n          <button type=\"submit\" className='edit-button' ><i className=\"fas fa-play\"></i></button>\n\n        </form>\n      </section>\n\n    )\n  }\n}\n\nconst mapStateToProps = ({ myProfilePhoto, myWelcomeMessage, myUserName }) => {\n  return {\n    name: myUserName,\n    message: myWelcomeMessage,\n    photo: myProfilePhoto\n  }\n}\n\nconst mapDispatchProps = (dispatch) => {\n  return {\n    setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\n    setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\n    setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(Edit)\n\n","export default class SabygramService {\n    dialogData = [\n        [\n            {//добавить время последнего сообщения\n                id: 0,\n                name: \"Анжелина\",\n                lastMessage: \"Как ты?\",\n                img: \"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg\"\n            },\n            {\n                id: 1,\n                name: \"Крис\",\n                lastMessage: \"Встала сегодня в 6 утра прикинь...\",\n                img: \"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo\"\n            },\n        ],\n        [\n\n            {\n                id: 2,\n                name: \"Сергей\",\n                lastMessage: \"Не забывайте подписывать время в тасках\",\n                img: \"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg\"\n            },\n            {\n                id: 3,\n                name: \"Эдуард\",\n                lastMessage: \"Пароль не подошел\",\n                img: \"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg\"\n            },\n            {\n                id: 7,\n                name: \"Серёжа\",\n                lastMessage: \"Привет, у меня вопрос\",\n                img: \"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1\"\n            }\n        ],\n        [\n            {\n                id: 4,\n                name: \"Вова\",\n                lastMessage: \"Выучил реакт за час\",\n                img: \"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg\"\n            },\n            {\n                id: 5,\n                name: \"Саша\",\n                lastMessage: \"Я на 2 этаже куда идти?\",\n                img: \"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg\"\n            },\n            {\n                id: 6,\n                name: \"Лёша\",\n                lastMessage: \"Я в столовой, если что\",\n                img: \"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200\"\n            }\n        ]\n    ];\n\n    async sendLoginForm(formData) {\n        let response = await fetch('/', {\n            method: 'POST',\n            body: {\n                login: formData.login,\n                password: formData.password\n            }\n        });\n        if (response.ok) {\n            alert(\"Logged in!\")\n        }\n    }\n\n    getDialogData(id) {\n        return this.dialogData[id];\n    }\n\n}","import Header from './header';\nexport default Header;","import React, {useState} from 'react';\nimport './header.scss';\n\nconst Header = ({ groupId,  onSearch, dialogs}) => {\n    const [inputVisible, setVisibility] = useState(false);\n\n    let groupName = null;\n\n    switch (groupId){\n        case 0:\n            groupName = \"Общие\";\n            break;\n        case 1:\n            groupName = \"Громкие\";\n            break;\n        case 2:\n            groupName = \"Тихие\";\n            break;\n        default:\n            groupName = null;         \n    }\n\n    const handleSearch = () => {\n        inputVisible === false ? setVisibility(true) : setVisibility(false)\n    }\n\n    const searchDialogs = (e) => {\n        let dialogsFound = [];\n        dialogs.forEach((dialog) => {\n            if(dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\n                dialogsFound.push(dialog)\n        })\n        onSearch(dialogsFound, groupId)\n    }\n\n    const clearDialogs = (e) => {\n        onSearch(null, groupId);\n        setVisibility(false);\n        e.target.value = null\n    }\n    \n    return(\n        <header className=\"dialogs-header\">\n            <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\n            <i className=\"fa fa-users\" aria-hidden=\"true\"></i>\n            <div className=\"group-name\">{ groupName }</div>\n            <input type=\"text\" className=\"dialogs-search\" onInput={searchDialogs} onBlur={clearDialogs} hidden={!inputVisible} autoFocus={true}></input>\n            <i className=\"fa fa-search\" aria-hidden=\"true\" onClick={handleSearch}></i>\n        </header>\n    )\n}\nexport default Header;","import React, { Component } from 'react';\nimport './addContact.scss';\n\nexport default class AddContact extends Component {\n\n  state = {\n    placeholder: 'Добавить контакт',\n    phone: ''\n  }\n\n  changePlaceholderFocus = () => {\n    this.setState({\n      placeholder: 'Номер телефона'\n    })\n  }\n\n  changePlaceholderBlur = () => {\n    this.setState({\n      placeholder: 'Добавить контакт'\n    })\n  }\n\n  changePhone = (e) => {\n    this.setState(\n      {\n        phone: e.target.value\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form className='add-contact-form'>\n        <input className='add-contact' placeholder={this.state.placeholder} onFocus={this.changePlaceholderFocus} onBlur={this.changePlaceholderBlur} value={this.state.phone} onChange={this.changePhone} />\n      </form>\n    )\n  }\n}\n","import React, { useState } from 'react';\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport DialogItem from '../../dialogItem/dialogItem';\nimport SabygramService from '../../../services/SabygramService';\nimport Header from '../../header';\nimport './dialogs.scss';\nimport AddContact from '../../addContact/addContact';\n\nconst Dialogs = ({ groupId }) => {\n    const [slideGroup, setSlideGroup] = useState(+groupId);\n    const [itemsFound, setFound] = useState(null);\n\n    const service = new SabygramService();\n    const dialogs = service.getDialogData(slideGroup);\n\n    const slideChanged = (e) => {\n        if (e) {\n            setSlideGroup(e.activeIndex)\n        }\n    }\n\n    const RenderSearchItems = (dialogs, groupId) => {\n        if (groupId === slideGroup)\n            setFound(dialogs)\n    }\n\n    const addContact = () => {\n        if (dialogs.length === 0) {\n            return (<AddContact />)\n        }\n    }\n\n    return (\n        <div className=\"dialog-container\">\n            <Header groupId={slideGroup} onSearch={RenderSearchItems} dialogs={dialogs} />\n            <Swiper className=\"mySwiper\" onSlideChange={slideChanged}>\n                <SwiperSlide>\n                    {addContact()}\n                    <RenderDialog groupId={0} service={service} itemsFound={itemsFound} />\n                </SwiperSlide>\n\n                <SwiperSlide>\n                    <RenderDialog groupId={1} service={service} itemsFound={itemsFound} />\n                </SwiperSlide>\n\n                <SwiperSlide>\n                    <RenderDialog groupId={2} service={service} itemsFound={itemsFound} />\n                </SwiperSlide>\n            </Swiper>\n            <br />\n\n        </div>\n    )\n}\n\nconst RenderDialog = ({ groupId, service, itemsFound = null }) => {\n    let toSearchIn = null;\n\n    itemsFound ? toSearchIn = itemsFound : toSearchIn = service.getDialogData(groupId);\n\n    return (\n        <div>\n            {\n                toSearchIn.map((dialog) => {\n                    return <DialogItem key={dialog.id} dialog={dialog} />\n                })\n            }\n        </div>\n    )\n}\n\nexport default Dialogs;","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Switch, Route } from 'react-router';\nimport Auth from '../pages/auth/auth';\nimport Edit from '../pages/edit/edit';\nimport Dialogs from '../pages/dialogs/dialogs';\n\n\nconst App = () => {\n    return (\n        <Switch>\n            <Route exact path=\"/\" component={Auth} />\n            <Route path=\"/edit\" component={Edit} />\n            <Route path=\"/dialogs/:id\"\n                render={({ match }) => {\n                    const { id } = match.params;\n                    return <Dialogs groupId={id} />\n                }}\n            />\n            \n        </Switch>\n    )\n}\n\n\nexport default App;\n","import React from 'react';\n\nconst {\n    Provider: ServiceProvider,\n    Consumer: ServiceConsumer\n} = React.createContext();\n\nexport {\n    ServiceProvider,\n    ServiceConsumer\n}\n      \n","const initialState = {\n    isAuthenticated: false, //входил раньше, осталось в кэше браузера\n    isRegistrated: false, //регистрировался раньше \n    myUserName: '',\n    myWelcomeMessage: '',\n    myProfilePhoto: null,\n    myPassword: null,\n    myPhone: null\n\n}\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_MY_PASSWORD\": {\n            return {\n                ...state,\n                myPassword: action.payload\n            }\n        }\n        case \"SET_MY_PHONE\": {\n            return {\n                ...state,\n                myPhone: action.payload\n            }\n        }\n        case \"SET_MY_PROFILE_PHOTO\": {\n            return {\n                ...state,\n                myProfilePhoto: action.payload\n            }\n        }\n        case \"SET_MY_WELCOME_MESSAGE\": {\n            return {\n                ...state,\n                myWelcomeMessage: action.payload\n            }\n        }\n        case \"SET_MY_USER_NAME\": {\n            return {\n                ...state,\n                myUserName: action.payload\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import { createStore } from \"redux\";\nimport reducer from './reducers';\n\nconst store = createStore(reducer); \n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport SabygramService from './services/SabygramService';\nimport { ServiceProvider } from './components/context';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ServiceProvider value={SabygramService}>\n      <Router>\n        <App />\n      </Router>\n    </ServiceProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}