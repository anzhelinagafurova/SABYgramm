(this.webpackJsonpsabygramm=this.webpackJsonpsabygramm||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(25),c=a.n(n),i=a(4),r=a(12),o=a(13),d=a(17),l=a(16),u=a(20),m=(a(43),a(1)),g=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).renderAuthPage=function(){var t=e.props,a=t.password,s=t.phone;return Object(m.jsxs)("section",{className:"login-container",children:[Object(m.jsx)("h1",{className:"login-text",children:"\u0432\u0445\u043e\u0434"}),Object(m.jsxs)("form",{className:"login-form",onSubmit:e.sendForm,children:[Object(m.jsxs)("div",{className:"tel-wrapper",children:[Object(m.jsx)("p",{className:"number-7",children:"+7"}),Object(m.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"\u0422\u0435\u043b. \u043d\u043e\u043c\u0435\u0440",value:s,onChange:e.props.setPhone,maxLength:"10",pattern:"\\d*",required:!0})]}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:e.props.setPassword,value:a,required:!0}),Object(m.jsx)("button",{type:"submit",className:"login-button",children:Object(m.jsx)("i",{className:"fas fa-play"})})]})]})},e.sendForm=function(e){e.preventDefault();var t={phone:e.currentTarget.phoneNumber.value,password:e.currentTarget.password.value};fetch("",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return alert(e.message)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isRegistrated;return t&&a?Object(m.jsx)("div",{children:"\u0441\u0442\u0430\u0440\u0438\u043d\u0446\u0430 \u0441 \u0434\u0438\u0430\u043b\u043e\u0433\u0430\u043c\u0438"}):a?!t&&a?this.renderAuthPage("/edit"):void 0:this.renderAuthPage("/edit")}}]),a}(s.Component),j=Object(u.b)((function(e){return{isAuthenticated:e.isAuthenticated,isRegistrated:e.isRegistrated}}),(function(e){return{setPhone:function(t){var a=t.target.value;e({type:"SET_MY_PASSWORD",payload:a})},setPassword:function(t){var a=t.target.value;e({type:"SET_MY_PHONE",payload:a})}}}))(g),h=(a(45),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).setPhoto=function(t){var a=new FileReader,s=t.target.files[0];a.readAsDataURL(s),a.onload=function(){e.props.setProfilePhoto(a.result),document.getElementById("editForm").pictureUrl.value=a.result},a.onerror=function(){alert("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438")}},e.setData=function(t){if(e.props.setUserName(document.getElementById("editForm").username.value),e.props.setWelcomeMessage(document.getElementById("editForm").message.value),!e.props.photo){var a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" >\n        <circle cx="130" cy="130" r="180"  fill="#738DED" width="200" />\n          <text x="90" y="220" font-size="180" font-family="Roboto, sans-serif" fill="white"> '.concat(document.getElementById("editForm").username.value[0].toUpperCase(),"\n          </text>     \n        </svg>"),s=new Blob([a],{type:"image/svg+xml"}),n=URL.createObjectURL(s);e.props.setProfilePhoto(n),document.getElementById("editForm").pictureUrl.value=n}document.getElementById("editForm").submit()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.photo;return Object(m.jsx)("section",{className:"edit-container",children:Object(m.jsxs)("form",{className:"name-form",id:"editForm",action:"",method:"POST",onSubmit:this.setData,children:[Object(m.jsxs)("label",{htmlFor:"picture",id:"upload-background",className:"upload-background",children:[e?Object(m.jsx)("img",{src:e,alt:"Profile icon",className:"profile-photo"}):Object(m.jsx)("div",{className:"plus",children:"+"}),Object(m.jsx)("input",{type:"file",id:"picture",accept:"image/*",onChange:this.setPhoto})]}),Object(m.jsx)("input",{type:"text",name:"pictureUrl",hidden:!0}),Object(m.jsx)("p",{className:"photo-label",children:"\u0424\u043e\u0442\u043e"}),Object(m.jsx)("input",{type:"text",name:"username",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",required:!0}),Object(m.jsx)("input",{type:"text",name:"message",placeholder:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0432\u0441\u0435\u043c \u0434\u0440\u0443\u0437\u044c\u044f\u043c!",required:!0}),Object(m.jsx)("button",{type:"submit",className:"edit-button",children:Object(m.jsx)("i",{className:"fas fa-play"})})]})})}}]),a}(s.Component)),b=Object(u.b)((function(e){var t=e.myProfilePhoto,a=e.myWelcomeMessage;return{name:e.myUserName,message:a,photo:t}}),(function(e){return{setProfilePhoto:function(t){return e({type:"SET_MY_PROFILE_PHOTO",payload:t})},setUserName:function(t){return e({type:"SET_MY_USER_NAME",payload:t})},setWelcomeMessage:function(t){return e({type:"SET_MY_WELCOME_MESSAGE",payload:t})}}}))(h),p=a(61),O=a(60),f=(a(46),function(e){var t,a=e.dialog,s=a.name,n=a.lastMessage,c=a.img,r=a.id,o=a.timing,d=document.getElementsByClassName("dialog"),l=document.createElement("ul");l.innerHTML="<li>\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0438\u0445\u0438\u043c</li><li>\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u0440\u043e\u043a\u0438\u043c</li><li>\u0423\u0434\u0430\u043b\u0438\u0442\u044c</li>",l.className="settings";var u=function(){t&&(clearTimeout(t),t=null)},g=function(e){var a=e.currentTarget;t||(t=setTimeout((function(){a.appendChild(l)}),500))};document.addEventListener("DOMContentLoaded",(function(){for(var e=0;e<d.length;e++){var t=d[e];t.addEventListener("touchstart",g,!1),t.addEventListener("touchend",u,!1),t.addEventListener("mousedown",g,!1),t.addEventListener("mouseup",u,!1)}})),document.getElementById("root").addEventListener("click",(function(){l.remove()}));var j=Object(i.f)();return Object(m.jsxs)("div",{className:"dialog",onClick:function(){j.push("/chatapp/".concat(r),{id:r})},children:[Object(m.jsx)("img",{src:c,alt:"dialogPicture",className:"dialog-img"}),Object(m.jsxs)("div",{className:"dialog-contain",children:[Object(m.jsx)("p",{className:"dialog-name",children:s}),Object(m.jsx)("p",{className:"dialog-message",children:n})]}),Object(m.jsx)("div",{className:"dialog-timing",children:o})]})}),A=a(15),v=a.n(A),x=a(21),M=function(){function e(){Object(r.a)(this,e),this.dialogData=[[{id:0,name:"\u0410\u043d\u0436\u0435\u043b\u0438\u043d\u0430",lastMessage:"\u041a\u0430\u043a \u0442\u044b?",img:"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg",timing:"15 \u043c"},{id:1,name:"\u041a\u0440\u0438\u0441",lastMessage:"\u0412\u0441\u0442\u0430\u043b\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432 6 \u0443\u0442\u0440\u0430 \u043f\u0440\u0438\u043a\u0438\u043d\u044c...",img:"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo",timing:"1 \u0447"}],[{id:2,name:"\u0421\u0435\u0440\u0433\u0435\u0439",lastMessage:"\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0432 \u0442\u0430\u0441\u043a\u0430\u0445",img:"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg",timing:"2 \u0447"},{id:3,name:"\u042d\u0434\u0443\u0430\u0440\u0434",lastMessage:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0435\u043b",img:"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg",timing:"1 \u0434"},{id:7,name:"\u0421\u0435\u0440\u0451\u0436\u0430",lastMessage:"\u041f\u0440\u0438\u0432\u0435\u0442, \u0443 \u043c\u0435\u043d\u044f \u0432\u043e\u043f\u0440\u043e\u0441",img:"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1",timing:"2 \u0434"}],[{id:4,name:"\u0412\u043e\u0432\u0430",lastMessage:"\u0412\u044b\u0443\u0447\u0438\u043b \u0440\u0435\u0430\u043a\u0442 \u0437\u0430 \u0447\u0430\u0441",img:"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg",timing:"2 \u0447"},{id:5,name:"\u0421\u0430\u0448\u0430",lastMessage:"\u042f \u043d\u0430 2 \u044d\u0442\u0430\u0436\u0435 \u043a\u0443\u0434\u0430 \u0438\u0434\u0442\u0438?",img:"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg",timing:"1 \u043d"},{id:6,name:"\u041b\u0451\u0448\u0430",lastMessage:"\u042f \u0432 \u0441\u0442\u043e\u043b\u043e\u0432\u043e\u0439, \u0435\u0441\u043b\u0438 \u0447\u0442\u043e",img:"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200",timing:"2 \u043d"}]]}return Object(o.a)(e,[{key:"sendLoginForm",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/",{method:"POST",body:{login:t.login,password:t.password}});case 2:e.sent.ok&&alert("Logged in!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDialogData",value:function(){return this.dialogData}}]),e}(),E=a(14),w=(a(49),function(e){var t=e.groupId,a=e.onSearch,n=e.dialogs,c=Object(s.useState)(!1),i=Object(E.a)(c,2),r=i[0],o=i[1],d=null;switch(t){case 0:d="\u041e\u0431\u0449\u0438\u0435";break;case 1:d="\u0413\u0440\u043e\u043c\u043a\u0438\u0435";break;case 2:d="\u0422\u0438\u0445\u0438\u0435";break;default:d=null}return Object(m.jsxs)("header",{className:"dialogs-header",children:[d&&Object(m.jsx)("i",{className:"fa fa-bars","aria-hidden":"true"}),d&&Object(m.jsx)("i",{className:"fa fa-users","aria-hidden":"true"}),Object(m.jsx)("div",{className:"group-name",children:d}),Object(m.jsx)("input",{type:"text",className:"dialogs-search",onInput:function(e){var s=[];n[t].forEach((function(t){t.name.toLowerCase().includes(e.target.value.toLowerCase())&&s.push(t)})),a(s)},onBlur:function(e){a(null),o(!1),e.target.value=null},hidden:!r,autoFocus:!0}),d&&Object(m.jsx)("i",{className:"fa fa-search","aria-hidden":"true",onClick:function(){o(!1===r)}})]})}),S=(a(50),a(51),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",phone:""},e.changePlaceholderFocus=function(){e.setState({placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"})},e.changePlaceholderBlur=function(){e.setState({placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})},e.changePhone=function(t){e.setState({phone:t.target.value})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("form",{className:"add-contact-form",children:Object(m.jsx)("input",{className:"add-contact",placeholder:this.state.placeholder,onFocus:this.changePlaceholderFocus,onBlur:this.changePlaceholderBlur,value:this.state.phone,onChange:this.changePhone})})}}]),a}(s.Component)),y=a(18),N=(a(52),function(){return Object(m.jsxs)("div",{className:"setting-page",children:[Object(m.jsxs)("div",{className:"link-controllers ",children:[Object(m.jsx)(y.b,{to:"/contacts",className:"left-controller",children:Object(m.jsxs)("div",{className:"link-contain",children:[Object(m.jsx)("div",{className:"icon",children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO6SURBVHgB1Vn9ddMwEL/k8T9hgqoTNJ0AMwHZgGyQbJB0AsIEoRMAEzhMkDKBnQlcJhBWclfLsj7ubKfA7z1Xrk6n+9JJZwXgCtBar+on1xdU+K7gf0Ct6F6HsYbXRC0wQ+9VqIB5X0bGb3Bcgbwz4/n62VpGzMeSl1J+E/HkJsBTIH3hoe2QthtLXkz5pcW8RU+aZ231Zw6Pwv4qMGeG9OMY8lIG5Mi09tBoOeQBAwqIG5CPIS9lAGHmoc1CntbN2s08tD3S9mPJixlQMSbUHhp5q9CYfDj+s6WkGktezIAcebYe2ioW0rr/qw5jPba8kAGZLVQ3SbWx+pcRfpOURxxHB1l2LXmhSbc6jC2MjKvIQ0/mXE8OxWvLc4VTyKuIJwt92Y0U/EvQlzOg0HwUVzPC8mSRUGBu8dDYo47XOnPdJHdh9a8Y8vZJo4WeXCLPwhIyA56DCuRZYN83nshE5HTbk1nMUOudijR2qaybGmdP82l+5PLQoEziSYsvR75MwENR+y7gMZHrlCpTawx54MdkMnkGPhS2Ep4nbO+4DKjTI/77Eq2pR5ESZFAo4InLUI8tiVcSbWh0U9RhG3DjDErCWrds5T3KvAU+KMqKOnwRkCyFWQ8eAhl9z2d54SFnew2QeJMi8AvkODlyOShdnrMBuA7N89wzgUuQo3TmSAJ1M8+Mcmc6UBHaRYbkgAIZWnngGiBdy2PkAHsrdfiU+eMaIF3L5xyQbKEWOjsKE63cGbqEzkrofpdPi54yS2yV+UMGiM8AxAO2e2ktZHjw30eQwZsDhPcgQL10dnVD9YzkRFXYmrJlCzJ0Dz7d/qg+F3TAxMBijn3ToLtl/tIdsHYGsTxqVYgKmNCJa8gAD6GKLlfLiBvGpHOpIhZvJZATvLacRvjeQRoK2z7b6AHbD4yxwfPGZ0DpMMVAtdBPkOPkzBGDyABJkUW71pAIcE5iMuC3S3gDw0DeMx/l1FfWz71bFGKSH6EbWUkEOrkWW0IK0vDVQAqaU9bGHPzLklNHKWxPLmEKA1B7+XZioe76giSfV6nvYdLGLQxALALJ7c2DVqXoYEjprbAtXUKvCOjLDxaF57A7YHvHVQL3+Pjh1JQPom1UQRhzpLeWCt42GCGt2wZ8D5XeZh5D/whh9DoHFPSYMMAfu73wjWfL65vEwW0Nmo8iOzr0foKR5XXOAbMMcE8/1x8QQT3Wp5Dx8idoG6CwPYwtLxSBEtIoE/12Iqd2oBL6yxsXVuXog+Sj5+9B+39jYH8kSfAH59pcMpQFQ70AAAAASUVORK5CYII=",alt:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})}),Object(m.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})}),Object(m.jsx)(y.b,{to:"#!",children:Object(m.jsxs)("div",{className:"link-contain",children:[Object(m.jsx)("div",{className:"icon",children:Object(m.jsx)("img",{src:"data:image/png;base64,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",alt:"\u041a\u0438\u043d\u043e\u0442\u0435\u0430\u0442\u0440"})}),Object(m.jsx)("p",{children:"\u041a\u0438\u043d\u043e\u0442\u0435\u0430\u0442\u0440"})]})})]}),Object(m.jsx)("img",{className:"profileImg",src:"data:image/png;base64,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",alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(m.jsxs)("div",{className:"profileInfo",children:[Object(m.jsx)("span",{children:"\u0418\u043e\u0441\u0438\u0444 \u0421\u0442\u0430\u043b\u0438\u043d"}),Object(m.jsx)("i",{className:"fa fa-magic","aria-hidden":"true"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439, \u0442\u043e\u0432\u0430\u0440\u0438\u0449!"}),Object(m.jsx)("i",{className:"fa fa-magic","aria-hidden":"true"})]}),Object(m.jsx)("span",{children:"SABYgramm \xa9"})]})}),I=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).service=new M,e.dialogs=e.service.getDialogData(),e.state={slideGroup:0,itemsFound:null},e.slideChanged=function(t){t&&e.setState({slideGroup:t.activeIndex-1})},e.renderSearchItems=function(t){e.setState({itemsFound:t})},e.addContact=function(){if(0===e.dialogs.length)return Object(m.jsx)(S,{})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(p.a,{className:"mySwiper",initialSlide:"1",onSlideChange:this.slideChanged,children:[Object(m.jsx)(w,{slot:"container-start",groupId:this.state.slideGroup,onSearch:this.renderSearchItems,dialogs:this.dialogs}),Object(m.jsxs)("div",{className:"dialog-container",children:[Object(m.jsx)(O.a,{children:Object(m.jsx)(N,{})}),Object(m.jsxs)(O.a,{children:[this.addContact(),Object(m.jsx)(C,{dialogs:this.dialogs[0],itemsFound:this.state.itemsFound})]}),Object(m.jsx)(O.a,{children:Object(m.jsx)(C,{dialogs:this.dialogs[1],itemsFound:this.state.itemsFound})}),Object(m.jsx)(O.a,{children:Object(m.jsx)(C,{dialogs:this.dialogs[2],itemsFound:this.state.itemsFound})})]})]})}}]),a}(s.Component),C=function(e){var t=e.dialogs,a=e.itemsFound,s=void 0===a?null:a,n=null;return n=s||t,Object(m.jsx)("div",{children:n.map((function(e){return Object(m.jsx)(f,{dialog:e},e.id)}))})},B=a(6),k=a(11),R=a(31),T=a(32),F=a(34),D=a.n(F),L=function(e){var t=e.msgInput.current,a=function(){var t=Object(x.a)(v.a.mark((function t(a){var s,n,c,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),(s=e.savedMsg.trim()).length>0&&(e.editMode?e.updateMessage(s):e.addNewMessage(s,"outgoing")),e.editMode||(n="",c=function(){var t=Object(x.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(Object(x.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:a=t.sent,n=a,e.addNewMessage(n,"incoming");case 5:case"end":return t.stop()}}),t)}))),2e3);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){return"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u0442\u0435\u043a\u0441\u0442"},c());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=Object(s.useState)(!1),c=Object(E.a)(n,2),i=c[0],r=c[1];return Object(m.jsxs)("form",{className:e.editMode?"message-form editing-input":"message-form",onSubmit:a,children:[Object(m.jsx)("div",{className:i?"emoji-picker":"hidden",children:Object(m.jsx)(D.a,{disableAutoFocus:!0,onEmojiClick:function(a,s){r(!1);var n=t.selectionStart,c=t.selectionEnd-t.selectionStart,i=t.value.split("");i.splice(n,c,s.emoji);var o=i.join("");e.setSavedMsg(o),t.focus(),t.selectionStart=t.selectionEnd=n+1}})}),Object(m.jsx)("button",{type:"button",className:"open-emojis",onClick:function(e){e.preventDefault(),r(!i)},children:Object(m.jsx)(R.a,{icon:T.b})}),Object(m.jsx)("input",{id:"message-input",type:"text",ref:e.msgInput,className:"message-input",placeholder:"Message",autoComplete:"off",onChange:function(t){e.setSavedMsg(t.currentTarget.value)},value:e.savedMsg||"",onKeyDown:function(a){if(38===a.keyCode&&e.lastMessageIndex>=0&&!1===e.editMode){for(var s=e.lastMessageIndex;"incoming"===e.currentMessages[s].direction;)s--;t.blur(),setTimeout((function(){e.enterEditMode(s)}),0)}}}),Object(m.jsxs)("button",{type:"submit",className:"send-message",children:[Object(m.jsx)("span",{className:"sr-only",children:"send"}),Object(m.jsx)(R.a,{icon:T.a})]})]},"MessageForm")},P=function(e){return Object(m.jsx)(m.Fragment,{children:"outgoing"===e.message.direction?Object(m.jsxs)("div",{className:"outgoing",children:[Object(m.jsx)("button",{className:e.editMode&&e.index===e.editIndex?"message editing":"message",onClick:function(){return e.enterEditMode(e.index)},children:e.message.message}),Object(m.jsx)("p",{className:"msg-date",children:e.message.edit?"\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e "+e.message.edit:e.message.time})]}):Object(m.jsxs)("div",{className:"incoming",children:[Object(m.jsx)("div",{className:"message",children:e.message.message}),Object(m.jsx)("p",{className:"msg-date",children:e.message.edit?"\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e "+e.message.edit:e.message.time})]})})},Y=function(e){var t,a=e.messages.name,n=e.messages.messages,c=Object(s.useRef)(null);return Object(s.useEffect)((function(){c&&c.current.addEventListener("DOMNodeInserted",(function(e){var t=e.currentTarget;t.scroll({top:t.scrollHeight})}))}),[]),Object(m.jsxs)("div",{className:"chat-window",children:[Object(m.jsx)("ul",{className:"message-list",ref:c,children:0!==n.length?n.map((function(t,a){return Object(m.jsx)("li",{children:Object(m.jsx)(P,{message:t,enterEditMode:e.enterEditMode,index:a,editMode:e.editMode,editIndex:e.editIndex})},a)})):null}),0===n.length?Object(m.jsxs)("p",{className:"no-message",children:["This is the beginning of your conversation with"," ",a]}):null,Object(m.jsx)(L,(t={addNewMessage:e.addNewMessage,updateSaved:e.updateSaved,setSavedMsg:e.setSavedMsg,savedMsg:e.savedMsg,currentMessages:n},Object(k.a)(t,"addNewMessage",e.addNewMessage),Object(k.a)(t,"updateMessage",e.updateMessage),Object(k.a)(t,"editMode",e.editMode),Object(k.a)(t,"setEditMode",e.setEditMode),Object(k.a)(t,"editIndex",e.editIndex),Object(k.a)(t,"enterEditMode",e.enterEditMode),Object(k.a)(t,"lastMessageIndex",n.length-1),Object(k.a)(t,"msgInput",e.msgInput),t))]})},G=(a(56),a(57),function(e){var t=e.groupId,a=e.name,s=e.img,n=null,c=Object(i.f)();switch(t){case 0:n="\u041e\u0431\u0449\u0438\u0435";break;case 1:n="\u0413\u0440\u043e\u043c\u043a\u0438\u0435";break;case 2:n="\u0422\u0438\u0445\u0438\u0435";break;default:n=null}return Object(m.jsxs)("header",{className:"message-header",children:[Object(m.jsx)("i",{className:"fas fa-arrow-left",onClick:function(){return c.push("/dialogs")}}),Object(m.jsx)("img",{src:s,alt:"dialogPicture",className:"message-dialog-img"}),Object(m.jsxs)("div",{className:"flex-names",children:[Object(m.jsx)("div",{className:"user-name",children:a}),Object(m.jsx)("div",{className:"group-name",children:n})]})]})}),Q=function(){var e=Object(s.useState)("0"),t=Object(E.a)(e,2),a=t[0],n=(t[1],Object(s.useState)(!1)),c=Object(E.a)(n,2),i=c[0],r=c[1],o=Object(s.useState)(null),d=Object(E.a)(o,2),l=d[0],u=d[1],g=Object(s.useRef)(),j=(new M).getDialogData(0),h=Object(s.useState)({0:{name:j[0][a].name,messages:[],saved:"",editMode:!1,groupId:0,img:j[0][a].img},1:{name:j[1].name,messages:[],saved:"",editMode:!1,groupId:0,img:j[1].img},2:{name:j[1].name,messages:[],saved:"",editMode:!1,groupId:1,img:j[1].img},3:{name:j[0].name,messages:[],saved:"",editMode:!1,groupId:0,img:j[0].img},4:{name:j[0].name,messages:[],saved:"",editMode:!1,groupId:0,img:j[0].img}}),b=Object(E.a)(h,2),p=b[0],O=b[1],f=Object(s.useState)(""),A=Object(E.a)(f,2),v=A[0],x=A[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G,{groupId:p[a].groupId,name:p[a].name,img:p[a].img}),Object(m.jsx)("div",{className:"chat-container",children:Object(m.jsx)(Y,{messages:p[a],addNewMessage:function(e,t){var s=p[a],n=(new Date).toLocaleString();s.messages.push({message:e,time:n,direction:t});var c=Object(B.a)({},p);c[a]=s,O(c),x("")},updateSaved:function(e){var t=p[a];t.saved=e;var s=Object(B.a)({},p);s[a]=t,O(s)},setSavedMsg:x,savedMsg:v,editMode:i,setEditMode:r,editIndex:l,setEditIndex:u,updateMessage:function(e){if(e.trim().length>0){var t=p[a],s=(new Date).toLocaleString();t.messages[l].message=e,t.messages[l].edit=s;var n=Object(B.a)({},p);n[a]=t,O(n)}r(!1),x("")},msgInput:g,enterEditMode:function(e){var t=p[a].messages[e].message;u(e),x(t),r(!0),g.current.focus()}})})]})},J=function(){return Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",component:j}),Object(m.jsx)(i.a,{path:"/edit",component:b}),Object(m.jsx)(i.a,{path:"/dialogs",component:I}),Object(m.jsx)(i.a,{path:"/chatapp/:id",render:function(e){var t=e.match.params.id;return Object(m.jsx)(Q,{dialogId:t})}})]})},U=a(35),H={isAuthenticated:!1,isRegistrated:!1,myUserName:"",myWelcomeMessage:"",myProfilePhoto:null,myPassword:null,myPhone:null},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MY_PASSWORD":return Object(B.a)(Object(B.a)({},e),{},{myPassword:t.payload});case"SET_MY_PHONE":return Object(B.a)(Object(B.a)({},e),{},{myPhone:t.payload});case"SET_MY_PROFILE_PHOTO":return Object(B.a)(Object(B.a)({},e),{},{myProfilePhoto:t.payload});case"SET_MY_WELCOME_MESSAGE":return Object(B.a)(Object(B.a)({},e),{},{myWelcomeMessage:t.payload});case"SET_MY_USER_NAME":return Object(B.a)(Object(B.a)({},e),{},{myUserName:t.payload});default:return e}},W=Object(U.a)(Z);c.a.render(Object(m.jsx)(u.a,{store:W,children:Object(m.jsx)(y.a,{children:Object(m.jsx)(J,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.ab0786af.chunk.js.map