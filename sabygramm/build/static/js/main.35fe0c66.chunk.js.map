{"version":3,"sources":["components/pages/auth/auth.js","components/pages/edit/edit.js","components/dialogItem/dialogItem.js","services/SabygramService.js","components/header/index.js","components/header/header.js","components/addContact/addContact.js","components/pages/settingPage/index.js","components/pages/settingPage/settingPage.js","img/1.png","img/2.png","img/3.png","components/pages/dialogs/dialogs.js","components/msgForm/index.js","components/message/index.js","components/chatWindow/index.js","components/msgHeader/index.js","components/msgHeader/header.js","components/chatApp/index.js","components/app/index.js","components/app/app.js","reducers/index.js","store.js","index.js"],"names":["Auth","renderAuthPage","props","password","phone","className","onSubmit","sendForm","type","name","placeholder","value","onChange","setPhone","maxLength","pattern","required","setPassword","e","preventDefault","user","currentTarget","phoneNumber","fetch","method","headers","body","JSON","stringify","then","result","json","alert","message","history","push","this","isAuthenticated","isRegistrated","Component","connect","dispatch","newPhone","target","payload","newPassword","Edit","setPhoto","form","document","getElementById","reader","FileReader","file","files","readAsDataURL","onload","setProfilePhoto","pictureUrl","createPictureBlob","letter","newPhotoSvg","blob","Blob","Promise","resolve","setData","a","photo","username","toUpperCase","profilePicSvg","userInfo","welcome_msg","image_link","setUserName","setWelcomeMessage","sendData","id","htmlFor","src","alt","accept","hidden","myProfilePhoto","myWelcomeMessage","myUserName","DialogItem","timer","dialog","lastMessage","img","timing","dialogs","getElementsByClassName","settings","createElement","innerHTML","touchend","clearTimeout","touchstart","current","setTimeout","appendChild","addEventListener","i","length","remove","useHistory","onClick","SabygramService","dialogData","formData","login","ok","Header","groupId","onSearch","useState","inputVisible","setVisibility","groupName","onInput","dialogsFound","forEach","toLowerCase","includes","onBlur","autoFocus","AddContact","state","changePlaceholderFocus","setState","changePlaceholderBlur","changePhone","onFocus","SettingPage","to","Dialogs","service","getDialogData","slideGroup","itemsFound","slideChanged","activeIndex","renderSearchItems","addContact","initialSlide","onSlideChange","slot","RenderDialog","toSearchIn","map","MsgForm","input","msgInput","handleSubmit","event","trimmedMsg","savedMsg","trim","editMode","updateMessage","addNewMessage","phrase","generatedPhrase","generatePhrase","displayEmojis","setDisplayEmojis","disableAutoFocus","onEmojiClick","emojiObject","cursorPosition","selectionStart","selectionLength","selectionEnd","textArray","split","splice","emoji","newText","join","setSavedMsg","focus","icon","faSmile","ref","autoComplete","onKeyDown","keyCode","lastMessageIndex","testIndex","currentMessages","direction","blur","enterEditMode","faPaperPlane","Message","index","editIndex","edit","time","ChatWindow","currentFriend","messages","messageList","useRef","useEffect","scroll","top","scrollHeight","updateSaved","setEditMode","ChatApp","currentConv","setEditIndex","saved","data","newMessage","selectedConv","Date","toLocaleString","updatedData","msg","savedMessage","App","exact","path","component","render","match","params","dialogId","initialState","myPassword","myPhone","reducer","action","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.35fe0c66.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nimport './auth.scss';\r\n\r\nclass Auth extends Component {\r\n    renderAuthPage = () => {\r\n        const { password, phone } = this.props;\r\n        return (\r\n            <section className='login-container'>\r\n                <h1 className='login-text'>вход</h1>\r\n                <form className='login-form' onSubmit={this.sendForm}>\r\n                    <div className='tel-wrapper'>\r\n                        <p className=\"number-7\">+7</p>\r\n                        <input type=\"tel\" name=\"phoneNumber\" placeholder='Тел. номер' value={phone} onChange={this.props.setPhone} maxLength=\"10\" pattern=\"\\d*\" required></input>\r\n                    </div>\r\n                    <input type=\"password\" name=\"password\" placeholder='Пароль' onChange={this.props.setPassword} value={password} maxLength=\"12\" required></input>\r\n                    <button type=\"submit\" className='login-button'><i className=\"fas fa-play\" ></i></button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n    sendForm = (e) => {\r\n        e.preventDefault();\r\n        let user = {\r\n            phone: e.currentTarget.phoneNumber.value,\r\n            password: e.currentTarget.password.value\r\n          };\r\n          \r\n          fetch('', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(user)\r\n          })\r\n          .then((result) => result.json())\r\n          .then((result) => alert(result.message))\r\n\r\n        const { history } = this.props;\r\n        history.push('/edit');\r\n    }\r\n\r\n    render() {\r\n        const { isAuthenticated, isRegistrated } = this.props;\r\n        if (isAuthenticated && isRegistrated) {\r\n            return (<div>старинца с диалогами</div>)\r\n        }\r\n        else if (!isRegistrated) {\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n        else if (!isAuthenticated && isRegistrated) { //заменить на dialig\r\n            return (this.renderAuthPage(\"/edit\"))\r\n        }\r\n    }\r\n}\r\nconst mapStateToProps = ({ isAuthenticated, isRegistrated }) => {\r\n    return {\r\n        isAuthenticated,\r\n        isRegistrated\r\n    }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n    return {\r\n        setPhone: (e) => {\r\n            const newPhone = e.target.value;\r\n            dispatch({ type: \"SET_MY_PASSWORD\", payload: newPhone })\r\n        },\r\n        setPassword: (e) => {\r\n            const newPassword = e.target.value;\r\n            dispatch({ type: \"SET_MY_PHONE\", payload: newPassword })\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport './edit.css';\r\n\r\nclass Edit extends Component {\r\n\r\n  setPhoto = (e) => {\r\n    const form = document.getElementById(\"editForm\")\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      this.props.setProfilePhoto(reader.result);\r\n      form.pictureUrl.value = reader.result\r\n    }\r\n  }\r\n\r\n  createPictureBlob = (letter) => {\r\n    const newPhotoSvg = \r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"74\" height=\"74\" version=\"1.1\">\r\n    <circle cx=\"37\" cy=\"37\" r=\"37\" fill=\"#738DED\"></circle>\r\n  <text x=\"20\" y=\"60\" font-size=\"60\" font-family=\"Roboto, sans-serif\" fill=\"white\">${letter}\r\n        </text>  \r\n  </svg>`\r\n    const blob = new Blob([newPhotoSvg], {type: 'image/svg+xml'}); \r\n    return new Promise((resolve) => {\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(blob);\r\n      reader.onload = () => {\r\n        resolve(reader.result);\r\n      };\r\n    })\r\n  }\r\n\r\n  setData = async (e) => {\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    \r\n    if(!this.props.photo) {\r\n      var profilePicSvg = await this.createPictureBlob(form.username.value[0].toUpperCase());\r\n      form.pictureUrl.value = await profilePicSvg;\r\n    }\r\n\r\n    let userInfo = {\r\n      name: form.username.value,\r\n      welcome_msg: form.message.value || \"Привет всем друзьям!\",\r\n      image_link: form.pictureUrl.value || profilePicSvg\r\n    }\r\n\r\n    this.props.setUserName(userInfo.name);\r\n    this.props.setWelcomeMessage(userInfo.welcome_msg);\r\n    this.props.setProfilePhoto(userInfo.image_link);\r\n\r\n    this.sendData(userInfo);\r\n  }\r\n\r\n  sendData = (userInfo) => {\r\n    fetch('/edit', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(userInfo)\r\n    })\r\n    .then((result) => result.json())\r\n    .then((result) => alert(result.message))\r\n  }\r\n  render() {\r\n    const { photo } = this.props;\r\n\r\n    return (\r\n      <section className='edit-container'>\r\n        <form className='name-form' id=\"editForm\" onSubmit={this.setData}>\r\n          <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background\">\r\n\r\n            {photo ? <img src={photo} alt=\"Profile icon\" className=\"profile-photo\"></img> : <div className=\"plus\">+</div>}\r\n            <input type=\"file\" id=\"picture\" accept=\"image/*\" onChange={this.setPhoto}/>\r\n          </label>\r\n\r\n          <input type=\"text\" name=\"pictureUrl\" hidden></input> \r\n          \r\n          <p className='photo-label'>Фото</p>\r\n\r\n          <input type=\"text\" name=\"username\" placeholder='Ваше имя' required ></input>\r\n\r\n          <input type=\"text\" name=\"message\" placeholder='Привет всем друзьям!' ></input>\r\n\r\n          <button type=\"submit\" className='edit-button' ><i className=\"fas fa-play\"></i></button>\r\n\r\n        </form>\r\n      </section>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ myProfilePhoto, myWelcomeMessage, myUserName }) => {\r\n  return {\r\n    name: myUserName,\r\n    message: myWelcomeMessage,\r\n    photo: myProfilePhoto\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch) => {\r\n  return {\r\n    setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\r\n    setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\r\n    setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Edit)\r\n\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './dialogItem.scss';\r\n\r\nconst DialogItem = ({ dialog: { name, lastMessage, img, id, timing } }) => {\r\n\r\n    let timer;\r\n    let touchduration = 500;\r\n    let dialogs = document.getElementsByClassName('dialog');\r\n    let settings = document.createElement('ul');\r\n\r\n    settings.innerHTML = '<li>Сделать тихим</li><li>Сделать гроким</li><li>Удалить</li>';\r\n\r\n    settings.className = 'settings';\r\n\r\n    const touchend = () => {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n    }\r\n\r\n    const touchstart = (e) => {\r\n        const current = e.currentTarget\r\n        if (!timer) {\r\n            timer = setTimeout(() => { current.appendChild(settings) }, touchduration);\r\n        }\r\n    };\r\n\r\n    const addEventListeners = () => {\r\n        for (let i = 0; i < dialogs.length; i++) {\r\n            let dialog = dialogs[i];\r\n            dialog.addEventListener(\"touchstart\", touchstart, false);\r\n            dialog.addEventListener(\"touchend\", touchend, false);\r\n            dialog.addEventListener(\"mousedown\", touchstart, false);\r\n            dialog.addEventListener(\"mouseup\", touchend, false);\r\n        }\r\n    }\r\n\r\n    document.addEventListener(\"DOMContentLoaded\", addEventListeners)\r\n    document.getElementById('root').addEventListener('click', function () {\r\n        settings.remove();\r\n    })\r\n\r\n    const history = useHistory();\r\n    const handleClick = () => {\r\n        history.push(`/chatapp/${id}`, {\r\n            id: id,\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div className=\"dialog\" onClick={handleClick}>\r\n            <img src={img} alt=\"dialogPicture\" className=\"dialog-img\" />\r\n            <div className=\"dialog-contain\">\r\n                <p className=\"dialog-name\">{name}</p>\r\n                <p className=\"dialog-message\">{lastMessage}</p>\r\n            </div>\r\n\r\n            <div className=\"dialog-timing\">{timing}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","export default class SabygramService {\r\n    dialogData = [\r\n        [\r\n            {//добавить время последнего сообщения\r\n                id: 0,\r\n                name: \"Анжелина\",\r\n                lastMessage: \"Как ты?\",\r\n                img: \"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg\",\r\n                timing: \"15 м\"\r\n            },\r\n            {\r\n                id: 1,\r\n                name: \"Крис\",\r\n                lastMessage: \"Встала сегодня в 6 утра прикинь...\",\r\n                img: \"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo\",\r\n                timing: \"1 ч\"\r\n            }\r\n\r\n        ],\r\n        [\r\n\r\n            {\r\n                id: 2,\r\n                name: \"Сергей\",\r\n                lastMessage: \"Не забывайте подписывать время в тасках\",\r\n                img: \"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg\",\r\n                timing: \"2 ч\"\r\n            },\r\n            {\r\n                id: 3,\r\n                name: \"Эдуард\",\r\n                lastMessage: \"Пароль не подошел\",\r\n                img: \"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg\",\r\n                timing: \"1 д\"\r\n            },\r\n            {\r\n                id: 7,\r\n                name: \"Серёжа\",\r\n                lastMessage: \"Привет, у меня вопрос\",\r\n                img: \"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1\",\r\n                timing: \"2 д\"\r\n            }\r\n        ],\r\n        [\r\n            {\r\n                id: 4,\r\n                name: \"Вова\",\r\n                lastMessage: \"Выучил реакт за час\",\r\n                img: \"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg\",\r\n                timing: \"2 ч\"\r\n            },\r\n            {\r\n                id: 5,\r\n                name: \"Саша\",\r\n                lastMessage: \"Я на 2 этаже куда идти?\",\r\n                img: \"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg\",\r\n                timing: \"1 н\"\r\n            },\r\n            {\r\n                id: 6,\r\n                name: \"Лёша\",\r\n                lastMessage: \"Я в столовой, если что\",\r\n                img: \"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200\",\r\n                timing: \"2 н\"\r\n            }\r\n        ]\r\n    ];\r\n\r\n    async sendLoginForm(formData) {\r\n        let response = await fetch('/', {\r\n            method: 'POST',\r\n            body: {\r\n                login: formData.login,\r\n                password: formData.password\r\n            }\r\n        });\r\n        if (response.ok) {\r\n            alert(\"Logged in!\")\r\n        }\r\n    }\r\n\r\n    getDialogData() {\r\n        return this.dialogData;\r\n    }\r\n\r\n}","import Header from './header';\r\nexport default Header;","import React, { useState } from 'react';\r\nimport './header.scss';\r\n\r\nconst Header = ({ groupId, onSearch, dialogs }) => {\r\n    const [inputVisible, setVisibility] = useState(false);\r\n\r\n    let groupName = null;\r\n\r\n    switch (groupId) {\r\n        case 0:\r\n            groupName = \"Общие\";\r\n            break;\r\n        case 1:\r\n            groupName = \"Громкие\";\r\n            break;\r\n        case 2:\r\n            groupName = \"Тихие\";\r\n            break;\r\n        default:\r\n            groupName = null;\r\n    }\r\n\r\n    const handleSearch = () => {\r\n        inputVisible === false ? setVisibility(true) : setVisibility(false)\r\n    }\r\n\r\n    const searchDialogs = (e) => {\r\n        let dialogsFound = [];\r\n        dialogs[groupId].forEach((dialog) => {\r\n            if (dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\r\n                dialogsFound.push(dialog)\r\n        })\r\n        onSearch(dialogsFound)\r\n    }\r\n\r\n    const clearDialogs = (e) => {\r\n        onSearch(null);\r\n        setVisibility(false);\r\n        e.target.value = null\r\n    }\r\n\r\n    return (\r\n        <header className=\"dialogs-header\">\r\n            {groupName && <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>}\r\n            {groupName && <i className=\"fa fa-users\" aria-hidden=\"true\"></i>}\r\n            <div className=\"group-name\">{ groupName }</div>\r\n            <input type=\"text\" className=\"dialogs-search\" onInput={searchDialogs} onBlur={clearDialogs} hidden={!inputVisible} autoFocus={true}></input>\r\n            {groupName &&  <i className=\"fa fa-search\" aria-hidden=\"true\" onClick={handleSearch}></i> }\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React, { Component } from 'react';\r\nimport './addContact.scss';\r\n\r\nexport default class AddContact extends Component {\r\n\r\n  state = {\r\n    placeholder: 'Добавить контакт',\r\n    phone: ''\r\n  }\r\n\r\n  changePlaceholderFocus = () => {\r\n    this.setState({\r\n      placeholder: 'Номер телефона'\r\n    })\r\n  }\r\n\r\n  changePlaceholderBlur = () => {\r\n    this.setState({\r\n      placeholder: 'Добавить контакт'\r\n    })\r\n  }\r\n\r\n  changePhone = (e) => {\r\n    this.setState(\r\n      {\r\n        phone: e.target.value\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className='add-contact-form'>\r\n        <input className='add-contact' placeholder={this.state.placeholder} onFocus={this.changePlaceholderFocus} onBlur={this.changePlaceholderBlur} value={this.state.phone} onChange={this.changePhone} />\r\n      </form>\r\n    )\r\n  }\r\n}\r\n","import SettingPage from './settingPage';\r\n\r\nexport default SettingPage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './settingPage.scss';\r\n\r\n\r\nimport contactsImg from '../../../img/1.png';\r\nimport cinemaImg from '../../../img/2.png';\r\nimport profileImg from '../../../img/3.png';\r\n\r\nconst SettingPage = () => {\r\n    return(\r\n        <div className=\"setting-page\">\r\n            <div className=\"link-controllers \">\r\n                <Link to=\"/contacts\" className=\"left-controller\">\r\n                    <div className=\"link-contain\">\r\n                        <div className=\"icon\">\r\n                            <img src={contactsImg} alt=\"Контакты\" />                          \r\n                        </div>\r\n                        <p>Контакты</p>\r\n                    </div>\r\n                </Link>\r\n                <Link to=\"#!\">\r\n                    <div className=\"link-contain\">\r\n                        <div className=\"icon\">\r\n                            <img src={cinemaImg} alt=\"Кинотеатр\" />                           \r\n                        </div>\r\n                        <p>Кинотеатр</p>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n\r\n            <img className=\"profileImg\" src={profileImg} alt=\"Фото профиля\" />\r\n\r\n\r\n            <div className=\"profileInfo\">\r\n                <span>Иосиф Сталин</span>\r\n                <i className=\"fa fa-magic\" aria-hidden=\"true\"></i>\r\n                <br/> \r\n                <br/> \r\n                <span>Здравствуй, товарищ!</span>\r\n                <i className=\"fa fa-magic\" aria-hidden=\"true\"></i>\r\n            </div>\r\n\r\n            <span>SABYgramm ©</span>\r\n        </div>\r\n    )\r\n}\r\nexport default SettingPage;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO6SURBVHgB1Vn9ddMwEL/k8T9hgqoTNJ0AMwHZgGyQbJB0AsIEoRMAEzhMkDKBnQlcJhBWclfLsj7ubKfA7z1Xrk6n+9JJZwXgCtBar+on1xdU+K7gf0Ct6F6HsYbXRC0wQ+9VqIB5X0bGb3Bcgbwz4/n62VpGzMeSl1J+E/HkJsBTIH3hoe2QthtLXkz5pcW8RU+aZ231Zw6Pwv4qMGeG9OMY8lIG5Mi09tBoOeQBAwqIG5CPIS9lAGHmoc1CntbN2s08tD3S9mPJixlQMSbUHhp5q9CYfDj+s6WkGktezIAcebYe2ioW0rr/qw5jPba8kAGZLVQ3SbWx+pcRfpOURxxHB1l2LXmhSbc6jC2MjKvIQ0/mXE8OxWvLc4VTyKuIJwt92Y0U/EvQlzOg0HwUVzPC8mSRUGBu8dDYo47XOnPdJHdh9a8Y8vZJo4WeXCLPwhIyA56DCuRZYN83nshE5HTbk1nMUOudijR2qaybGmdP82l+5PLQoEziSYsvR75MwENR+y7gMZHrlCpTawx54MdkMnkGPhS2Ep4nbO+4DKjTI/77Eq2pR5ESZFAo4InLUI8tiVcSbWh0U9RhG3DjDErCWrds5T3KvAU+KMqKOnwRkCyFWQ8eAhl9z2d54SFnew2QeJMi8AvkODlyOShdnrMBuA7N89wzgUuQo3TmSAJ1M8+Mcmc6UBHaRYbkgAIZWnngGiBdy2PkAHsrdfiU+eMaIF3L5xyQbKEWOjsKE63cGbqEzkrofpdPi54yS2yV+UMGiM8AxAO2e2ktZHjw30eQwZsDhPcgQL10dnVD9YzkRFXYmrJlCzJ0Dz7d/qg+F3TAxMBijn3ToLtl/tIdsHYGsTxqVYgKmNCJa8gAD6GKLlfLiBvGpHOpIhZvJZATvLacRvjeQRoK2z7b6AHbD4yxwfPGZ0DpMMVAtdBPkOPkzBGDyABJkUW71pAIcE5iMuC3S3gDw0DeMx/l1FfWz71bFGKSH6EbWUkEOrkWW0IK0vDVQAqaU9bGHPzLklNHKWxPLmEKA1B7+XZioe76giSfV6nvYdLGLQxALALJ7c2DVqXoYEjprbAtXUKvCOjLDxaF57A7YHvHVQL3+Pjh1JQPom1UQRhzpLeWCt42GCGt2wZ8D5XeZh5D/whh9DoHFPSYMMAfu73wjWfL65vEwW0Nmo8iOzr0foKR5XXOAbMMcE8/1x8QQT3Wp5Dx8idoG6CwPYwtLxSBEtIoE/12Iqd2oBL6yxsXVuXog+Sj5+9B+39jYH8kSfAH59pcMpQFQ70AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport DialogItem from '../../dialogItem/dialogItem';\r\nimport SabygramService from '../../../services/SabygramService';\r\nimport Header from '../../header';\r\nimport './dialogs.scss';\r\nimport AddContact from '../../addContact/addContact';\r\nimport SettingPage from '../settingPage';\r\n\r\nexport default class Dialogs extends Component {\r\n    service = new SabygramService();\r\n    dialogs = this.service.getDialogData();\r\n\r\n    state = {\r\n        slideGroup: 0,\r\n        itemsFound: null\r\n    }\r\n\r\n\r\n    slideChanged = (e) => {\r\n        if (e) {\r\n            this.setState({\r\n                slideGroup: e.activeIndex - 1\r\n            })\r\n        }\r\n    }\r\n\r\n    renderSearchItems = (dialogs) => {\r\n        this.setState({\r\n            itemsFound: dialogs\r\n        })\r\n    }\r\n\r\n    addContact = () => {\r\n        if (this.dialogs.length === 0) {\r\n            return (<AddContact />)\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            \r\n                <Swiper className=\"mySwiper\" initialSlide=\"1\" onSlideChange={this.slideChanged}>\r\n                <Header  slot=\"container-start\" groupId={this.state.slideGroup} onSearch={this.renderSearchItems} dialogs={this.dialogs} />\r\n                <div className=\"dialog-container\">\r\n                    <SwiperSlide>\r\n                        <SettingPage />\r\n                    </SwiperSlide>\r\n\r\n                    <SwiperSlide>\r\n                        {this.addContact()}\r\n                        <RenderDialog dialogs={this.dialogs[0]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n\r\n                    <SwiperSlide>\r\n                        <RenderDialog dialogs={this.dialogs[1]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n\r\n\r\n                    <SwiperSlide>\r\n                        <RenderDialog dialogs={this.dialogs[2]} itemsFound={this.state.itemsFound} />\r\n                    </SwiperSlide>\r\n                    </div>\r\n                </Swiper>\r\n            \r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst RenderDialog = ({ dialogs, itemsFound = null }) => {\r\n\r\n    let toSearchIn = null;\r\n\r\n    itemsFound ? toSearchIn = itemsFound : toSearchIn = dialogs;\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                toSearchIn.map((dialog) => {\r\n                    return <DialogItem key={dialog.id} dialog={dialog} />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPaperPlane, faSmile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Picker from \"emoji-picker-react\";\r\n\r\n/**\r\n * This renders the form to send a new message.\r\n */\r\nconst MsgForm = (props) => {\r\n    const input = props.msgInput.current;\r\n\r\n    /** This functions handles the submission of the new message form */\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        /* We ensure the message is not empty, and trim any extra space\r\n         * before sending */\r\n        let trimmedMsg = props.savedMsg.trim();\r\n\r\n        if (trimmedMsg.length > 0) {\r\n            !props.editMode\r\n                ? props.addNewMessage(trimmedMsg, \"outgoing\")\r\n                : props.updateMessage(trimmedMsg);\r\n        }\r\n        if (!props.editMode) {\r\n            let phrase = \"\";\r\n            const generatedPhrase = async () => {\r\n                setTimeout(async () => {\r\n                    const result = await generatePhrase();\r\n                    phrase = result;\r\n                    props.addNewMessage(phrase, \"incoming\");\r\n                }, 2000);\r\n            };\r\n            const generatePhrase = () => {\r\n                return 'Какой-то текст'\r\n            };\r\n            generatedPhrase();\r\n        }\r\n\r\n    };\r\n\r\n    /** Update the saved message when the input changes */\r\n    const handleChange = (event) => {\r\n        props.setSavedMsg(event.currentTarget.value);\r\n    };\r\n\r\n    /** This state defines if the emoji picker is visible or not */\r\n    const [displayEmojis, setDisplayEmojis] = useState(false);\r\n\r\n    /**\r\n     * This function handles displaying or hiding the emoji picker on click\r\n     * @param {onClick} event\r\n     */\r\n    const handleDisplayPicker = (event) => {\r\n        event.preventDefault();\r\n        setDisplayEmojis(!displayEmojis);\r\n    };\r\n\r\n    /** Edit the latest message when up arrow is pressed */\r\n    const handleKeyPress = (event) => {\r\n        if (\r\n            event.keyCode === 38 &&\r\n            props.lastMessageIndex >= 0 &&\r\n            props.editMode === false\r\n        ) {\r\n            // Find the index of the latest outgoing message\r\n            let testIndex = props.lastMessageIndex;\r\n            while (props.currentMessages[testIndex].direction === \"incoming\") {\r\n                testIndex--;\r\n            }\r\n            input.blur();\r\n            setTimeout(() => {\r\n                props.enterEditMode(testIndex);\r\n            }, 0);\r\n        }\r\n    };\r\n    /**\r\n     * Adds an emoji in the string of the input, at the curor's current position\r\n     * Browser focus then returns to the text input and places the cursor after the\r\n     * emoji\r\n     */\r\n    const onEmojiClick = (event, emojiObject) => {\r\n        setDisplayEmojis(false);\r\n        const cursorPosition = input.selectionStart;\r\n        const selectionLength = input.selectionEnd - input.selectionStart;\r\n        const textArray = input.value.split(\"\");\r\n        textArray.splice(cursorPosition, selectionLength, emojiObject.emoji);\r\n        const newText = textArray.join(\"\");\r\n        props.setSavedMsg(newText);\r\n\r\n        input.focus();\r\n        input.selectionStart = input.selectionEnd = cursorPosition + 1;\r\n    };\r\n\r\n    return (\r\n        <form\r\n            className={\r\n                props.editMode ? \"message-form editing-input\" : \"message-form\"\r\n            }\r\n            onSubmit={handleSubmit}\r\n            key={\"MessageForm\"}\r\n        >\r\n            <div className={displayEmojis ? \"emoji-picker\" : \"hidden\"}>\r\n                <Picker disableAutoFocus={true} onEmojiClick={onEmojiClick} />\r\n            </div>\r\n            <button\r\n                type=\"button\"\r\n                className=\"open-emojis\"\r\n                onClick={handleDisplayPicker}\r\n            >\r\n                <FontAwesomeIcon icon={faSmile} />\r\n            </button>\r\n            <input\r\n                id=\"message-input\"\r\n                type=\"text\"\r\n                ref={props.msgInput}\r\n                className=\"message-input\"\r\n                placeholder=\"Message\"\r\n                autoComplete=\"off\"\r\n                onChange={handleChange}\r\n                value={props.savedMsg || \"\"}\r\n                onKeyDown={handleKeyPress}\r\n            />\r\n            <button type=\"submit\" className=\"send-message\">\r\n                <span className=\"sr-only\">send</span>\r\n                <FontAwesomeIcon icon={faPaperPlane} />\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default MsgForm;\r\n","import React from \"react\";\r\n\r\nconst Message = (props) => {\r\n    const handleClick = () => props.enterEditMode(props.index);\r\n\r\n    return (\r\n        <>\r\n            {props.message.direction === \"outgoing\" ? (\r\n                <div className=\"outgoing\">\r\n                    <button\r\n                        className={\r\n                            props.editMode && props.index === props.editIndex\r\n                                ? \"message editing\"\r\n                                : \"message\"\r\n                        }\r\n                        onClick={handleClick}\r\n                    >\r\n                        {props.message.message}\r\n                    </button>\r\n                    <p className=\"msg-date\">\r\n                        {props.message.edit\r\n                            ? \"изменено \" + props.message.edit\r\n                            : props.message.time}\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"incoming\">\r\n                    <div className=\"message\">{props.message.message}</div>\r\n                    <p className=\"msg-date\">\r\n                        {props.message.edit\r\n                            ? \"изменено \" + props.message.edit\r\n                            : props.message.time}\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport MsgForm from \"../msgForm\";\r\nimport Message from \"../message\";\r\n\r\n/**\r\n * This renders the entire chat window, including the list of messages and the\r\n * input for new messages.\r\n */\r\nconst ChatWindow = (props) => {\r\n    const currentFriend = props.messages.name;\r\n    const currentMessages = props.messages.messages;\r\n    const messageList = useRef(null);\r\n\r\n    /**\r\n     * This effect ensures the pages scrolls to the bottom of the page if the\r\n     * height of the message list is longer than the height of its container\r\n     */\r\n    useEffect(() => {\r\n        if (messageList) {\r\n            messageList.current.addEventListener(\"DOMNodeInserted\", (event) => {\r\n                const { currentTarget: target } = event;\r\n                target.scroll({ top: target.scrollHeight });\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"chat-window\">\r\n            <ul className=\"message-list\" ref={messageList}>\r\n                {currentMessages.length !== 0\r\n                    ? currentMessages.map((message, index) => (\r\n                        <li key={index}>\r\n                            <Message\r\n                                message={message}\r\n                                enterEditMode={props.enterEditMode}\r\n                                index={index}\r\n                                editMode={props.editMode}\r\n                                editIndex={props.editIndex}\r\n                            />\r\n                        </li>\r\n                    ))\r\n                    : null}\r\n            </ul>\r\n\r\n            {currentMessages.length === 0 ? (\r\n                <p className=\"no-message\">\r\n                    This is the beginning of your conversation with{\" \"}\r\n                    {currentFriend}\r\n                </p>\r\n            ) : null}\r\n\r\n            <MsgForm\r\n                addNewMessage={props.addNewMessage}\r\n                updateSaved={props.updateSaved}\r\n                setSavedMsg={props.setSavedMsg}\r\n                savedMsg={props.savedMsg}\r\n                currentMessages={currentMessages}\r\n                addNewMessage={props.addNewMessage}\r\n                updateMessage={props.updateMessage}\r\n                editMode={props.editMode}\r\n                setEditMode={props.setEditMode}\r\n                editIndex={props.editIndex}\r\n                enterEditMode={props.enterEditMode}\r\n                lastMessageIndex={currentMessages.length - 1}\r\n                msgInput={props.msgInput}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import Header from './header';\r\nexport default Header;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './header.scss';\r\n\r\nconst MsgHeader = ({ groupId, name, img }) => {\r\n    let groupName = null;\r\n    const history = useHistory();\r\n    const handleClick = () => history.push(`/dialogs`);\r\n    switch (groupId) {\r\n        case 0:\r\n            groupName = \"Общие\";\r\n            break;\r\n        case 1:\r\n            groupName = \"Громкие\";\r\n            break;\r\n        case 2:\r\n            groupName = \"Тихие\";\r\n            break;\r\n        default:\r\n            groupName = null;\r\n    }\r\n\r\n    return (\r\n        <header className=\"message-header\">\r\n            <i className=\"fas fa-arrow-left\" onClick={handleClick}></i>\r\n            <img src={img} alt=\"dialogPicture\" className=\"message-dialog-img\" />\r\n            <div className='flex-names'>\r\n                <div className='user-name'>{name}</div>\r\n                <div className=\"group-name\">{groupName}</div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default MsgHeader;","import React, { useState, useRef } from \"react\";\r\nimport ChatWindow from \"../chatWindow\";\r\nimport './chatApp.scss';\r\nimport MsgHeader from \"../msgHeader\";\r\nimport SabygramService from \"../../services/SabygramService\";\r\n\r\n/**\r\n * The chat application\r\n */\r\nconst ChatApp = () => {\r\n    /**\r\n     * The currentConv state determines the conversation currently rendered\r\n     */\r\n    const [currentConv, setCurrentConv] = useState('0');\r\n    //индекс диалога в группе\r\n\r\n    /** The editMode state defines if a message is being edited or not */\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    /** editIndex holds the index of the message currently being edited */\r\n    const [editIndex, setEditIndex] = useState(null);\r\n\r\n    const msgInput = useRef();\r\n    const service = new SabygramService();\r\n    const dialogs = service.getDialogData(0);\r\n    //индекс группы\r\n\r\n    /**\r\n     * The data object holds all friends and their related messages\r\n     */\r\n    const [data, setData] = useState({\r\n        0: { name: dialogs[0][currentConv].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0][currentConv].img },\r\n        1: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[1].img },\r\n        2: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 1, img: dialogs[1].img },\r\n        3: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\r\n        4: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\r\n    });\r\n    //поменять индексы и должно работать, но не могу с сервиса забрать в пропс сразу\r\n\r\n    /**\r\n     * The savedMsg state hold the text currently displayed in the message input\r\n     */\r\n    const [savedMsg, setSavedMsg] = useState(\"\");\r\n\r\n    /**\r\n     * Add a message to the current conversation\r\n     * @param {string} newMessage\r\n     * @param {string} direction\r\n     */\r\n    const addNewMessage = (newMessage, direction) => {\r\n        const selectedConv = data[currentConv];\r\n        const time = new Date().toLocaleString();\r\n        selectedConv.messages.push({\r\n            message: newMessage,\r\n            time: time,\r\n            direction: direction,\r\n        });\r\n        const updatedData = { ...data };\r\n        updatedData[currentConv] = selectedConv;\r\n        setData(updatedData);\r\n        setSavedMsg(\"\");\r\n    };\r\n\r\n    /**\r\n     * The following function saves any unsent message to that current conversation\r\n     * object\r\n     * @param {string} msg The saved message\r\n     */\r\n    const updateSaved = (msg) => {\r\n        const selectedConv = data[currentConv];\r\n        selectedConv.saved = msg;\r\n        const updatedData = { ...data };\r\n        updatedData[currentConv] = selectedConv;\r\n        setData(updatedData);\r\n    };\r\n\r\n    /**\r\n     * The following finds the message to be edited, adds this\r\n     * message to the text input and focuses on it.\r\n     * @param {number} index The index of the message to be edited\r\n     */\r\n    const enterEditMode = (index) => {\r\n        const savedMessage = data[currentConv].messages[index].message;\r\n        setEditIndex(index);\r\n        setSavedMsg(savedMessage);\r\n        setEditMode(true);\r\n        msgInput.current.focus();\r\n    };\r\n\r\n    /**\r\n     * This message updates a message and turns off \"edit mode\"\r\n     * @param {string} newMessage The updated message\r\n     */\r\n    const updateMessage = (newMessage) => {\r\n        if (newMessage.trim().length > 0) {\r\n            const selectedConv = data[currentConv];\r\n            const time = new Date().toLocaleString();\r\n            selectedConv.messages[editIndex].message = newMessage;\r\n            selectedConv.messages[editIndex].edit = time;\r\n            const updatedData = { ...data };\r\n            updatedData[currentConv] = selectedConv;\r\n            setData(updatedData);\r\n        }\r\n        setEditMode(false);\r\n        setSavedMsg(\"\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <MsgHeader\r\n                groupId={data[currentConv].groupId}\r\n                name={data[currentConv].name}\r\n                img={data[currentConv].img} />\r\n            <div className=\"chat-container\">\r\n                <ChatWindow\r\n                    messages={data[currentConv]}\r\n                    addNewMessage={addNewMessage}\r\n                    updateSaved={updateSaved}\r\n                    setSavedMsg={setSavedMsg}\r\n                    savedMsg={savedMsg}\r\n                    editMode={editMode}\r\n                    setEditMode={setEditMode}\r\n                    editIndex={editIndex}\r\n                    setEditIndex={setEditIndex}\r\n                    updateMessage={updateMessage}\r\n                    msgInput={msgInput}\r\n                    enterEditMode={enterEditMode}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ChatApp;\r\n","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Switch, Route } from 'react-router';\r\nimport Auth from '../pages/auth/auth';\r\nimport Edit from '../pages/edit/edit';\r\nimport Dialogs from '../pages/dialogs/dialogs';\r\nimport ChatApp from '../chatApp/index'\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={Auth} />\r\n            <Route path=\"/edit\" component={Edit} />\r\n            <Route path=\"/dialogs\" component={Dialogs} />\r\n            <Route path=\"/chatapp/:id\"\r\n                render={({ match }) => {\r\n                    const { id } = match.params;\r\n                    return <ChatApp dialogId={id} />\r\n                }}\r\n            />\r\n\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default App;\r\n","const initialState = {\r\n    isAuthenticated: false, //входил раньше, осталось в кэше браузера\r\n    isRegistrated: false, //регистрировался раньше \r\n    myUserName: '',\r\n    myWelcomeMessage: '',\r\n    myProfilePhoto: null,\r\n    myPassword: null,\r\n    myPhone: null\r\n\r\n}\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_MY_PASSWORD\": {\r\n            return {\r\n                ...state,\r\n                myPassword: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PHONE\": {\r\n            return {\r\n                ...state,\r\n                myPhone: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_PROFILE_PHOTO\": {\r\n            return {\r\n                ...state,\r\n                myProfilePhoto: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_WELCOME_MESSAGE\": {\r\n            return {\r\n                ...state,\r\n                myWelcomeMessage: action.payload\r\n            }\r\n        }\r\n        case \"SET_MY_USER_NAME\": {\r\n            return {\r\n                ...state,\r\n                myUserName: action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { createStore } from \"redux\";\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer); \r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\n\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}