{"version":3,"sources":["components/pages/auth/auth.js","components/pages/edit/edit.js","components/dialogItem/dialogItem.js","services/SabygramService.js","components/header/index.js","components/header/header.js","components/addContact/addContact.js","components/pages/settingPage/index.js","components/pages/settingPage/settingPage.js","img/1.png","img/2.png","img/3.png","components/pages/dialogs/dialogs.js","components/msgForm/index.js","components/message/index.js","components/chatWindow/index.js","components/msgHeader/index.js","components/msgHeader/header.js","components/chatApp/index.js","components/app/index.js","components/app/app.js","reducers/index.js","store.js","index.js"],"names":["Auth","renderAuthPage","props","password","phone","className","onSubmit","sendForm","type","name","placeholder","value","onChange","setPhone","maxLength","pattern","required","setPassword","e","preventDefault","user","currentTarget","phoneNumber","fetch","method","headers","body","JSON","stringify","then","result","json","alert","message","this","isAuthenticated","isRegistrated","Component","connect","dispatch","newPhone","target","payload","newPassword","Edit","setPhoto","reader","FileReader","file","files","readAsDataURL","onload","setProfilePhoto","document","getElementById","pictureUrl","onerror","setData","setUserName","username","setWelcomeMessage","photo","newPhotoSvg","toUpperCase","blob","Blob","URL","createObjectURL","submit","id","action","htmlFor","src","alt","accept","hidden","myProfilePhoto","myWelcomeMessage","myUserName","DialogItem","timer","dialog","lastMessage","img","timing","dialogs","getElementsByClassName","settings","createElement","innerHTML","touchend","clearTimeout","touchstart","current","setTimeout","appendChild","addEventListener","i","length","remove","history","useHistory","onClick","push","SabygramService","dialogData","formData","a","login","ok","Header","groupId","onSearch","useState","inputVisible","setVisibility","groupName","onInput","dialogsFound","forEach","toLowerCase","includes","onBlur","autoFocus","AddContact","state","changePlaceholderFocus","setState","changePlaceholderBlur","changePhone","onFocus","SettingPage","to","Dialogs","service","getDialogData","slideGroup","itemsFound","slideChanged","activeIndex","renderSearchItems","addContact","initialSlide","onSlideChange","slot","RenderDialog","toSearchIn","map","MsgForm","input","msgInput","handleSubmit","event","trimmedMsg","savedMsg","trim","editMode","updateMessage","addNewMessage","phrase","generatedPhrase","generatePhrase","displayEmojis","setDisplayEmojis","disableAutoFocus","onEmojiClick","emojiObject","cursorPosition","selectionStart","selectionLength","selectionEnd","textArray","split","splice","emoji","newText","join","setSavedMsg","focus","icon","faSmile","ref","autoComplete","onKeyDown","keyCode","lastMessageIndex","testIndex","currentMessages","direction","blur","enterEditMode","faPaperPlane","Message","index","editIndex","edit","time","ChatWindow","currentFriend","messages","messageList","useRef","useEffect","scroll","top","scrollHeight","updateSaved","setEditMode","ChatApp","currentConv","setEditIndex","saved","data","newMessage","selectedConv","Date","toLocaleString","updatedData","msg","savedMessage","App","exact","path","component","render","match","params","dialogId","initialState","myPassword","myPhone","reducer","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.ab0786af.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\n\nimport './auth.scss';\n\nclass Auth extends Component {\n    renderAuthPage = () => {\n        const { password, phone } = this.props;\n        return (\n            <section className='login-container'>\n                <h1 className='login-text'>вход</h1>\n                <form className='login-form' onSubmit={this.sendForm}>\n                    <div className='tel-wrapper'>\n                        <p className=\"number-7\">+7</p>\n                        <input type=\"tel\" name=\"phoneNumber\" placeholder='Тел. номер' value={phone} onChange={this.props.setPhone} maxLength=\"10\" pattern=\"\\d*\" required></input>\n                    </div>\n                    <input type=\"password\" name=\"password\" placeholder='Пароль' onChange={this.props.setPassword} value={password} required></input>\n                    <button type=\"submit\" className='login-button'><i className=\"fas fa-play\" ></i></button>\n                </form>\n            </section>\n        )\n    }\n    sendForm = (e) => {\n        e.preventDefault();\n        let user = {\n            phone: e.currentTarget.phoneNumber.value,\n            password: e.currentTarget.password.value\n          };\n          \n          fetch('', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify(user)\n          })\n          .then((result) => result.json())\n          .then((result) => alert(result.message))\n\n        //const { history } = this.props;\n        //history.push('/edit');\n    }\n\n    render() {\n        const { isAuthenticated, isRegistrated } = this.props;\n        if (isAuthenticated && isRegistrated) {\n            return (<div>старинца с диалогами</div>)\n        }\n        else if (!isRegistrated) {\n            return (this.renderAuthPage(\"/edit\"))\n        }\n        else if (!isAuthenticated && isRegistrated) { //заменить на dialig\n            return (this.renderAuthPage(\"/edit\"))\n        }\n    }\n}\nconst mapStateToProps = ({ isAuthenticated, isRegistrated }) => {\n    return {\n        isAuthenticated,\n        isRegistrated\n    }\n}\n\nconst mapDispatchProps = (dispatch) => {\n    return {\n        setPhone: (e) => {\n            const newPhone = e.target.value;\n            dispatch({ type: \"SET_MY_PASSWORD\", payload: newPhone })\n        },\n        setPassword: (e) => {\n            const newPassword = e.target.value;\n            dispatch({ type: \"SET_MY_PHONE\", payload: newPassword })\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport './edit.css';\n\nclass Edit extends Component {\n\n  setPhoto = (e) => {\n    const reader = new FileReader();\n    const file = e.target.files[0];\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      this.props.setProfilePhoto(reader.result);\n      document.getElementById(\"editForm\").pictureUrl.value = reader.result\n    }\n    reader.onerror = () => {\n      alert(\"Возникла ошибка при загрузке фотографии\")\n    }\n  }\n\n  setData = (e) => {\n    this.props.setUserName(document.getElementById(\"editForm\").username.value);\n    this.props.setWelcomeMessage(document.getElementById(\"editForm\").message.value);\n\n    if(!this.props.photo) {\n      const newPhotoSvg = \n        `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 300\" >\n        <circle cx=\"130\" cy=\"130\" r=\"180\"  fill=\"#738DED\" width=\"200\" />\n          <text x=\"90\" y=\"220\" font-size=\"180\" font-family=\"Roboto, sans-serif\" fill=\"white\"> ${document.getElementById(\"editForm\").username.value[0].toUpperCase()}\n          </text>     \n        </svg>`\n\n      let blob = new Blob([newPhotoSvg], {type: 'image/svg+xml'});\n      const file = URL.createObjectURL(blob);\n      this.props.setProfilePhoto(file);\n      document.getElementById(\"editForm\").pictureUrl.value = file;\n    }\n\n    document.getElementById(\"editForm\").submit();\n  }\n  render() {\n    const { photo } = this.props;\n\n    return (\n\n      <section className='edit-container'>\n        <form className='name-form' id=\"editForm\" action=\"\" method=\"POST\" onSubmit={this.setData}>\n          <label htmlFor=\"picture\" id=\"upload-background\" className=\"upload-background\">\n\n            {photo ? <img src={photo} alt=\"Profile icon\" className=\"profile-photo\"></img> : <div className=\"plus\">+</div>}\n            <input type=\"file\" id=\"picture\" accept=\"image/*\" onChange={this.setPhoto}/>\n          </label>\n\n          <input type=\"text\" name=\"pictureUrl\" hidden></input>\n          \n          <p className='photo-label'>Фото</p>\n\n          <input type=\"text\" name=\"username\" placeholder='Ваше имя' required ></input>\n\n          <input type=\"text\" name=\"message\" placeholder='Привет всем друзьям!' required ></input>\n\n          <button type=\"submit\" className='edit-button' ><i className=\"fas fa-play\"></i></button>\n\n        </form>\n      </section>\n\n    )\n  }\n}\n\nconst mapStateToProps = ({ myProfilePhoto, myWelcomeMessage, myUserName }) => {\n  return {\n    name: myUserName,\n    message: myWelcomeMessage,\n    photo: myProfilePhoto\n  }\n}\n\nconst mapDispatchProps = (dispatch) => {\n  return {\n    setProfilePhoto: (photo) => dispatch({ type: \"SET_MY_PROFILE_PHOTO\", payload: photo }),\n    setUserName: (name) => dispatch({ type: \"SET_MY_USER_NAME\", payload: name }),\n    setWelcomeMessage: (message) => dispatch({ type: \"SET_MY_WELCOME_MESSAGE\", payload: message }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchProps)(Edit)\n\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './dialogItem.scss';\n\nconst DialogItem = ({ dialog: { name, lastMessage, img, id, timing } }) => {\n\n    let timer;\n    let touchduration = 500;\n    let dialogs = document.getElementsByClassName('dialog');\n    let settings = document.createElement('ul');\n\n    settings.innerHTML = '<li>Сделать тихим</li><li>Сделать гроким</li><li>Удалить</li>';\n\n    settings.className = 'settings';\n\n    const touchend = () => {\n        if (timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n    }\n\n    const touchstart = (e) => {\n        const current = e.currentTarget\n        if (!timer) {\n            timer = setTimeout(() => { current.appendChild(settings) }, touchduration);\n        }\n    };\n\n    const addEventListeners = () => {\n        for (let i = 0; i < dialogs.length; i++) {\n            let dialog = dialogs[i];\n            dialog.addEventListener(\"touchstart\", touchstart, false);\n            dialog.addEventListener(\"touchend\", touchend, false);\n            dialog.addEventListener(\"mousedown\", touchstart, false);\n            dialog.addEventListener(\"mouseup\", touchend, false);\n        }\n    }\n\n    document.addEventListener(\"DOMContentLoaded\", addEventListeners)\n    document.getElementById('root').addEventListener('click', function () {\n        settings.remove();\n    })\n\n    const history = useHistory();\n    const handleClick = () => {\n        history.push(`/chatapp/${id}`, {\n            id: id,\n        })\n    };\n\n    return (\n        <div className=\"dialog\" onClick={handleClick}>\n            <img src={img} alt=\"dialogPicture\" className=\"dialog-img\" />\n            <div className=\"dialog-contain\">\n                <p className=\"dialog-name\">{name}</p>\n                <p className=\"dialog-message\">{lastMessage}</p>\n            </div>\n\n            <div className=\"dialog-timing\">{timing}</div>\n        </div>\n    )\n}\n\nexport default DialogItem;","export default class SabygramService {\n    dialogData = [\n        [\n            {//добавить время последнего сообщения\n                id: 0,\n                name: \"Анжелина\",\n                lastMessage: \"Как ты?\",\n                img: \"https://bugaga.ru/uploads/posts/2016-12/1481556556_kot-volshebnik-1.jpg\",\n                timing: \"15 м\"\n            },\n            {\n                id: 1,\n                name: \"Крис\",\n                lastMessage: \"Встала сегодня в 6 утра прикинь...\",\n                img: \"https://yt3.ggpht.com/a/AATXAJynSQVjxLr742pi_eZXJxyzjfWLaRcCxgYaeJX_Cg=s900-c-k-c0xffffffff-no-rj-mo\",\n                timing: \"1 ч\"\n            }\n\n        ],\n        [\n\n            {\n                id: 2,\n                name: \"Сергей\",\n                lastMessage: \"Не забывайте подписывать время в тасках\",\n                img: \"https://i02.fotocdn.net/s110/defbcd4b451a9263/gallery_xl/2460844912.jpg\",\n                timing: \"2 ч\"\n            },\n            {\n                id: 3,\n                name: \"Эдуард\",\n                lastMessage: \"Пароль не подошел\",\n                img: \"https://pm1.narvii.com/7357/dd8ddd1a25b83dcf20d7036a4656fc47b7aad917r1-1080-1198v2_hq.jpg\",\n                timing: \"1 д\"\n            },\n            {\n                id: 7,\n                name: \"Серёжа\",\n                lastMessage: \"Привет, у меня вопрос\",\n                img: \"https://i0.wp.com/prostolike.net/wp-content/uploads/2018/08/image3_700x669.jpg?w=700&ssl=1\",\n                timing: \"2 д\"\n            }\n        ],\n        [\n            {\n                id: 4,\n                name: \"Вова\",\n                lastMessage: \"Выучил реакт за час\",\n                img: \"https://cutewallpaper.org/21/grumpy-cat-screensaver/Grumpy-Wallpapers-Wallpaper-Cave.jpg\",\n                timing: \"2 ч\"\n            },\n            {\n                id: 5,\n                name: \"Саша\",\n                lastMessage: \"Я на 2 этаже куда идти?\",\n                img: \"https://ustaliy.ru/wp-content/uploads/2019/03/universe.jpg\",\n                timing: \"1 н\"\n            },\n            {\n                id: 6,\n                name: \"Лёша\",\n                lastMessage: \"Я в столовой, если что\",\n                img: \"https://avatars.mds.yandex.net/get-zen_doc/1886729/pub_5d62dba6998ed600ad85c10e_5d62dbc135c8d800adef2383/scale_1200\",\n                timing: \"2 н\"\n            }\n        ]\n    ];\n\n    async sendLoginForm(formData) {\n        let response = await fetch('/', {\n            method: 'POST',\n            body: {\n                login: formData.login,\n                password: formData.password\n            }\n        });\n        if (response.ok) {\n            alert(\"Logged in!\")\n        }\n    }\n\n    getDialogData() {\n        return this.dialogData;\n    }\n\n}","import Header from './header';\nexport default Header;","import React, { useState } from 'react';\nimport './header.scss';\n\nconst Header = ({ groupId, onSearch, dialogs }) => {\n    const [inputVisible, setVisibility] = useState(false);\n\n    let groupName = null;\n\n    switch (groupId) {\n        case 0:\n            groupName = \"Общие\";\n            break;\n        case 1:\n            groupName = \"Громкие\";\n            break;\n        case 2:\n            groupName = \"Тихие\";\n            break;\n        default:\n            groupName = null;\n    }\n\n    const handleSearch = () => {\n        inputVisible === false ? setVisibility(true) : setVisibility(false)\n    }\n\n    const searchDialogs = (e) => {\n        let dialogsFound = [];\n        dialogs[groupId].forEach((dialog) => {\n            if (dialog.name.toLowerCase().includes(e.target.value.toLowerCase()))\n                dialogsFound.push(dialog)\n        })\n        onSearch(dialogsFound)\n    }\n\n    const clearDialogs = (e) => {\n        onSearch(null);\n        setVisibility(false);\n        e.target.value = null\n    }\n\n    return (\n        <header className=\"dialogs-header\">\n            {groupName && <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>}\n            {groupName && <i className=\"fa fa-users\" aria-hidden=\"true\"></i>}\n            <div className=\"group-name\">{ groupName }</div>\n            <input type=\"text\" className=\"dialogs-search\" onInput={searchDialogs} onBlur={clearDialogs} hidden={!inputVisible} autoFocus={true}></input>\n            {groupName &&  <i className=\"fa fa-search\" aria-hidden=\"true\" onClick={handleSearch}></i> }\n        </header>\n    )\n}\nexport default Header;","import React, { Component } from 'react';\nimport './addContact.scss';\n\nexport default class AddContact extends Component {\n\n  state = {\n    placeholder: 'Добавить контакт',\n    phone: ''\n  }\n\n  changePlaceholderFocus = () => {\n    this.setState({\n      placeholder: 'Номер телефона'\n    })\n  }\n\n  changePlaceholderBlur = () => {\n    this.setState({\n      placeholder: 'Добавить контакт'\n    })\n  }\n\n  changePhone = (e) => {\n    this.setState(\n      {\n        phone: e.target.value\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form className='add-contact-form'>\n        <input className='add-contact' placeholder={this.state.placeholder} onFocus={this.changePlaceholderFocus} onBlur={this.changePlaceholderBlur} value={this.state.phone} onChange={this.changePhone} />\n      </form>\n    )\n  }\n}\n","import SettingPage from './settingPage';\n\nexport default SettingPage;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './settingPage.scss';\n\n\nimport contactsImg from '../../../img/1.png';\nimport cinemaImg from '../../../img/2.png';\nimport profileImg from '../../../img/3.png';\n\nconst SettingPage = () => {\n    return(\n        <div className=\"setting-page\">\n            <div className=\"link-controllers \">\n                <Link to=\"/contacts\" className=\"left-controller\">\n                    <div className=\"link-contain\">\n                        <div className=\"icon\">\n                            <img src={contactsImg} alt=\"Контакты\" />                          \n                        </div>\n                        <p>Контакты</p>\n                    </div>\n                </Link>\n                <Link to=\"#!\">\n                    <div className=\"link-contain\">\n                        <div className=\"icon\">\n                            <img src={cinemaImg} alt=\"Кинотеатр\" />                           \n                        </div>\n                        <p>Кинотеатр</p>\n                    </div>\n                </Link>\n            </div>\n\n            <img className=\"profileImg\" src={profileImg} alt=\"Фото профиля\" />\n\n\n            <div className=\"profileInfo\">\n                <span>Иосиф Сталин</span>\n                <i className=\"fa fa-magic\" aria-hidden=\"true\"></i>\n                <br/> \n                <br/> \n                <span>Здравствуй, товарищ!</span>\n                <i className=\"fa fa-magic\" aria-hidden=\"true\"></i>\n            </div>\n\n            <span>SABYgramm ©</span>\n        </div>\n    )\n}\nexport default SettingPage;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO6SURBVHgB1Vn9ddMwEL/k8T9hgqoTNJ0AMwHZgGyQbJB0AsIEoRMAEzhMkDKBnQlcJhBWclfLsj7ubKfA7z1Xrk6n+9JJZwXgCtBar+on1xdU+K7gf0Ct6F6HsYbXRC0wQ+9VqIB5X0bGb3Bcgbwz4/n62VpGzMeSl1J+E/HkJsBTIH3hoe2QthtLXkz5pcW8RU+aZ231Zw6Pwv4qMGeG9OMY8lIG5Mi09tBoOeQBAwqIG5CPIS9lAGHmoc1CntbN2s08tD3S9mPJixlQMSbUHhp5q9CYfDj+s6WkGktezIAcebYe2ioW0rr/qw5jPba8kAGZLVQ3SbWx+pcRfpOURxxHB1l2LXmhSbc6jC2MjKvIQ0/mXE8OxWvLc4VTyKuIJwt92Y0U/EvQlzOg0HwUVzPC8mSRUGBu8dDYo47XOnPdJHdh9a8Y8vZJo4WeXCLPwhIyA56DCuRZYN83nshE5HTbk1nMUOudijR2qaybGmdP82l+5PLQoEziSYsvR75MwENR+y7gMZHrlCpTawx54MdkMnkGPhS2Ep4nbO+4DKjTI/77Eq2pR5ESZFAo4InLUI8tiVcSbWh0U9RhG3DjDErCWrds5T3KvAU+KMqKOnwRkCyFWQ8eAhl9z2d54SFnew2QeJMi8AvkODlyOShdnrMBuA7N89wzgUuQo3TmSAJ1M8+Mcmc6UBHaRYbkgAIZWnngGiBdy2PkAHsrdfiU+eMaIF3L5xyQbKEWOjsKE63cGbqEzkrofpdPi54yS2yV+UMGiM8AxAO2e2ktZHjw30eQwZsDhPcgQL10dnVD9YzkRFXYmrJlCzJ0Dz7d/qg+F3TAxMBijn3ToLtl/tIdsHYGsTxqVYgKmNCJa8gAD6GKLlfLiBvGpHOpIhZvJZATvLacRvjeQRoK2z7b6AHbD4yxwfPGZ0DpMMVAtdBPkOPkzBGDyABJkUW71pAIcE5iMuC3S3gDw0DeMx/l1FfWz71bFGKSH6EbWUkEOrkWW0IK0vDVQAqaU9bGHPzLklNHKWxPLmEKA1B7+XZioe76giSfV6nvYdLGLQxALALJ7c2DVqXoYEjprbAtXUKvCOjLDxaF57A7YHvHVQL3+Pjh1JQPom1UQRhzpLeWCt42GCGt2wZ8D5XeZh5D/whh9DoHFPSYMMAfu73wjWfL65vEwW0Nmo8iOzr0foKR5XXOAbMMcE8/1x8QQT3Wp5Dx8idoG6CwPYwtLxSBEtIoE/12Iqd2oBL6yxsXVuXog+Sj5+9B+39jYH8kSfAH59pcMpQFQ70AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport DialogItem from '../../dialogItem/dialogItem';\nimport SabygramService from '../../../services/SabygramService';\nimport Header from '../../header';\nimport './dialogs.scss';\nimport AddContact from '../../addContact/addContact';\nimport SettingPage from '../settingPage';\n\nexport default class Dialogs extends Component {\n    service = new SabygramService();\n    dialogs = this.service.getDialogData();\n\n    state = {\n        slideGroup: 0,\n        itemsFound: null\n    }\n\n\n    slideChanged = (e) => {\n        if (e) {\n            this.setState({\n                slideGroup: e.activeIndex - 1\n            })\n        }\n    }\n\n    renderSearchItems = (dialogs) => {\n        this.setState({\n            itemsFound: dialogs\n        })\n    }\n\n    addContact = () => {\n        if (this.dialogs.length === 0) {\n            return (<AddContact />)\n        }\n    }\n\n\n    render() {\n        return (\n            \n                <Swiper className=\"mySwiper\" initialSlide=\"1\" onSlideChange={this.slideChanged}>\n                <Header  slot=\"container-start\" groupId={this.state.slideGroup} onSearch={this.renderSearchItems} dialogs={this.dialogs} />\n                <div className=\"dialog-container\">\n                    <SwiperSlide>\n                        <SettingPage />\n                    </SwiperSlide>\n\n                    <SwiperSlide>\n                        {this.addContact()}\n                        <RenderDialog dialogs={this.dialogs[0]} itemsFound={this.state.itemsFound} />\n                    </SwiperSlide>\n\n                    <SwiperSlide>\n                        <RenderDialog dialogs={this.dialogs[1]} itemsFound={this.state.itemsFound} />\n                    </SwiperSlide>\n\n\n                    <SwiperSlide>\n                        <RenderDialog dialogs={this.dialogs[2]} itemsFound={this.state.itemsFound} />\n                    </SwiperSlide>\n                    </div>\n                </Swiper>\n            \n        )\n    }\n\n}\n\nconst RenderDialog = ({ dialogs, itemsFound = null }) => {\n\n    let toSearchIn = null;\n\n    itemsFound ? toSearchIn = itemsFound : toSearchIn = dialogs;\n\n    return (\n        <div>\n            {\n                toSearchIn.map((dialog) => {\n                    return <DialogItem key={dialog.id} dialog={dialog} />\n                })\n            }\n        </div>\n    )\n}","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPaperPlane, faSmile } from \"@fortawesome/free-solid-svg-icons\";\nimport Picker from \"emoji-picker-react\";\n\n/**\n * This renders the form to send a new message.\n */\nconst MsgForm = (props) => {\n    const input = props.msgInput.current;\n\n    /** This functions handles the submission of the new message form */\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        /* We ensure the message is not empty, and trim any extra space\n         * before sending */\n        let trimmedMsg = props.savedMsg.trim();\n\n        if (trimmedMsg.length > 0) {\n            !props.editMode\n                ? props.addNewMessage(trimmedMsg, \"outgoing\")\n                : props.updateMessage(trimmedMsg);\n        }\n        if (!props.editMode) {\n            let phrase = \"\";\n            const generatedPhrase = async () => {\n                setTimeout(async () => {\n                    const result = await generatePhrase();\n                    phrase = result;\n                    props.addNewMessage(phrase, \"incoming\");\n                }, 2000);\n            };\n            const generatePhrase = () => {\n                return 'Какой-то текст'\n            };\n            generatedPhrase();\n        }\n\n    };\n\n    /** Update the saved message when the input changes */\n    const handleChange = (event) => {\n        props.setSavedMsg(event.currentTarget.value);\n    };\n\n    /** This state defines if the emoji picker is visible or not */\n    const [displayEmojis, setDisplayEmojis] = useState(false);\n\n    /**\n     * This function handles displaying or hiding the emoji picker on click\n     * @param {onClick} event\n     */\n    const handleDisplayPicker = (event) => {\n        event.preventDefault();\n        setDisplayEmojis(!displayEmojis);\n    };\n\n    /** Edit the latest message when up arrow is pressed */\n    const handleKeyPress = (event) => {\n        if (\n            event.keyCode === 38 &&\n            props.lastMessageIndex >= 0 &&\n            props.editMode === false\n        ) {\n            // Find the index of the latest outgoing message\n            let testIndex = props.lastMessageIndex;\n            while (props.currentMessages[testIndex].direction === \"incoming\") {\n                testIndex--;\n            }\n            input.blur();\n            setTimeout(() => {\n                props.enterEditMode(testIndex);\n            }, 0);\n        }\n    };\n    /**\n     * Adds an emoji in the string of the input, at the curor's current position\n     * Browser focus then returns to the text input and places the cursor after the\n     * emoji\n     */\n    const onEmojiClick = (event, emojiObject) => {\n        setDisplayEmojis(false);\n        const cursorPosition = input.selectionStart;\n        const selectionLength = input.selectionEnd - input.selectionStart;\n        const textArray = input.value.split(\"\");\n        textArray.splice(cursorPosition, selectionLength, emojiObject.emoji);\n        const newText = textArray.join(\"\");\n        props.setSavedMsg(newText);\n\n        input.focus();\n        input.selectionStart = input.selectionEnd = cursorPosition + 1;\n    };\n\n    return (\n        <form\n            className={\n                props.editMode ? \"message-form editing-input\" : \"message-form\"\n            }\n            onSubmit={handleSubmit}\n            key={\"MessageForm\"}\n        >\n            <div className={displayEmojis ? \"emoji-picker\" : \"hidden\"}>\n                <Picker disableAutoFocus={true} onEmojiClick={onEmojiClick} />\n            </div>\n            <button\n                type=\"button\"\n                className=\"open-emojis\"\n                onClick={handleDisplayPicker}\n            >\n                <FontAwesomeIcon icon={faSmile} />\n            </button>\n            <input\n                id=\"message-input\"\n                type=\"text\"\n                ref={props.msgInput}\n                className=\"message-input\"\n                placeholder=\"Message\"\n                autoComplete=\"off\"\n                onChange={handleChange}\n                value={props.savedMsg || \"\"}\n                onKeyDown={handleKeyPress}\n            />\n            <button type=\"submit\" className=\"send-message\">\n                <span className=\"sr-only\">send</span>\n                <FontAwesomeIcon icon={faPaperPlane} />\n            </button>\n        </form>\n    );\n};\n\nexport default MsgForm;\n","import React from \"react\";\n\nconst Message = (props) => {\n    const handleClick = () => props.enterEditMode(props.index);\n\n    return (\n        <>\n            {props.message.direction === \"outgoing\" ? (\n                <div className=\"outgoing\">\n                    <button\n                        className={\n                            props.editMode && props.index === props.editIndex\n                                ? \"message editing\"\n                                : \"message\"\n                        }\n                        onClick={handleClick}\n                    >\n                        {props.message.message}\n                    </button>\n                    <p className=\"msg-date\">\n                        {props.message.edit\n                            ? \"изменено \" + props.message.edit\n                            : props.message.time}\n                    </p>\n                </div>\n            ) : (\n                <div className=\"incoming\">\n                    <div className=\"message\">{props.message.message}</div>\n                    <p className=\"msg-date\">\n                        {props.message.edit\n                            ? \"изменено \" + props.message.edit\n                            : props.message.time}\n                    </p>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default Message;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport MsgForm from \"../msgForm\";\nimport Message from \"../message\";\n\n/**\n * This renders the entire chat window, including the list of messages and the\n * input for new messages.\n */\nconst ChatWindow = (props) => {\n    const currentFriend = props.messages.name;\n    const currentMessages = props.messages.messages;\n    const messageList = useRef(null);\n\n    /**\n     * This effect ensures the pages scrolls to the bottom of the page if the\n     * height of the message list is longer than the height of its container\n     */\n    useEffect(() => {\n        if (messageList) {\n            messageList.current.addEventListener(\"DOMNodeInserted\", (event) => {\n                const { currentTarget: target } = event;\n                target.scroll({ top: target.scrollHeight });\n            });\n        }\n    }, []);\n\n    return (\n        <div className=\"chat-window\">\n            <ul className=\"message-list\" ref={messageList}>\n                {currentMessages.length !== 0\n                    ? currentMessages.map((message, index) => (\n                        <li key={index}>\n                            <Message\n                                message={message}\n                                enterEditMode={props.enterEditMode}\n                                index={index}\n                                editMode={props.editMode}\n                                editIndex={props.editIndex}\n                            />\n                        </li>\n                    ))\n                    : null}\n            </ul>\n\n            {currentMessages.length === 0 ? (\n                <p className=\"no-message\">\n                    This is the beginning of your conversation with{\" \"}\n                    {currentFriend}\n                </p>\n            ) : null}\n\n            <MsgForm\n                addNewMessage={props.addNewMessage}\n                updateSaved={props.updateSaved}\n                setSavedMsg={props.setSavedMsg}\n                savedMsg={props.savedMsg}\n                currentMessages={currentMessages}\n                addNewMessage={props.addNewMessage}\n                updateMessage={props.updateMessage}\n                editMode={props.editMode}\n                setEditMode={props.setEditMode}\n                editIndex={props.editIndex}\n                enterEditMode={props.enterEditMode}\n                lastMessageIndex={currentMessages.length - 1}\n                msgInput={props.msgInput}\n            />\n        </div>\n    );\n};\n\nexport default ChatWindow;\n","import Header from './header';\nexport default Header;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './header.scss';\n\nconst MsgHeader = ({ groupId, name, img }) => {\n    let groupName = null;\n    const history = useHistory();\n    const handleClick = () => history.push(`/dialogs`);\n    switch (groupId) {\n        case 0:\n            groupName = \"Общие\";\n            break;\n        case 1:\n            groupName = \"Громкие\";\n            break;\n        case 2:\n            groupName = \"Тихие\";\n            break;\n        default:\n            groupName = null;\n    }\n\n    return (\n        <header className=\"message-header\">\n            <i className=\"fas fa-arrow-left\" onClick={handleClick}></i>\n            <img src={img} alt=\"dialogPicture\" className=\"message-dialog-img\" />\n            <div className='flex-names'>\n                <div className='user-name'>{name}</div>\n                <div className=\"group-name\">{groupName}</div>\n            </div>\n        </header>\n    )\n}\nexport default MsgHeader;","import React, { useState, useRef } from \"react\";\nimport ChatWindow from \"../chatWindow\";\nimport './chatApp.scss';\nimport MsgHeader from \"../msgHeader\";\nimport SabygramService from \"../../services/SabygramService\";\n\n/**\n * The chat application\n */\nconst ChatApp = () => {\n    /**\n     * The currentConv state determines the conversation currently rendered\n     */\n    const [currentConv, setCurrentConv] = useState('0');\n    //индекс диалога в группе\n\n    /** The editMode state defines if a message is being edited or not */\n    const [editMode, setEditMode] = useState(false);\n\n    /** editIndex holds the index of the message currently being edited */\n    const [editIndex, setEditIndex] = useState(null);\n\n    const msgInput = useRef();\n    const service = new SabygramService();\n    const dialogs = service.getDialogData(0);\n    //индекс группы\n\n    /**\n     * The data object holds all friends and their related messages\n     */\n    const [data, setData] = useState({\n        0: { name: dialogs[0][currentConv].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0][currentConv].img },\n        1: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[1].img },\n        2: { name: dialogs[1].name, messages: [], saved: \"\", editMode: false, groupId: 1, img: dialogs[1].img },\n        3: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\n        4: { name: dialogs[0].name, messages: [], saved: \"\", editMode: false, groupId: 0, img: dialogs[0].img },\n    });\n    //поменять индексы и должно работать, но не могу с сервиса забрать в пропс сразу\n\n    /**\n     * The savedMsg state hold the text currently displayed in the message input\n     */\n    const [savedMsg, setSavedMsg] = useState(\"\");\n\n    /**\n     * Add a message to the current conversation\n     * @param {string} newMessage\n     * @param {string} direction\n     */\n    const addNewMessage = (newMessage, direction) => {\n        const selectedConv = data[currentConv];\n        const time = new Date().toLocaleString();\n        selectedConv.messages.push({\n            message: newMessage,\n            time: time,\n            direction: direction,\n        });\n        const updatedData = { ...data };\n        updatedData[currentConv] = selectedConv;\n        setData(updatedData);\n        setSavedMsg(\"\");\n    };\n\n    /**\n     * The following function saves any unsent message to that current conversation\n     * object\n     * @param {string} msg The saved message\n     */\n    const updateSaved = (msg) => {\n        const selectedConv = data[currentConv];\n        selectedConv.saved = msg;\n        const updatedData = { ...data };\n        updatedData[currentConv] = selectedConv;\n        setData(updatedData);\n    };\n\n    /**\n     * The following finds the message to be edited, adds this\n     * message to the text input and focuses on it.\n     * @param {number} index The index of the message to be edited\n     */\n    const enterEditMode = (index) => {\n        const savedMessage = data[currentConv].messages[index].message;\n        setEditIndex(index);\n        setSavedMsg(savedMessage);\n        setEditMode(true);\n        msgInput.current.focus();\n    };\n\n    /**\n     * This message updates a message and turns off \"edit mode\"\n     * @param {string} newMessage The updated message\n     */\n    const updateMessage = (newMessage) => {\n        if (newMessage.trim().length > 0) {\n            const selectedConv = data[currentConv];\n            const time = new Date().toLocaleString();\n            selectedConv.messages[editIndex].message = newMessage;\n            selectedConv.messages[editIndex].edit = time;\n            const updatedData = { ...data };\n            updatedData[currentConv] = selectedConv;\n            setData(updatedData);\n        }\n        setEditMode(false);\n        setSavedMsg(\"\");\n    };\n\n    return (\n        <>\n            <MsgHeader\n                groupId={data[currentConv].groupId}\n                name={data[currentConv].name}\n                img={data[currentConv].img} />\n            <div className=\"chat-container\">\n                <ChatWindow\n                    messages={data[currentConv]}\n                    addNewMessage={addNewMessage}\n                    updateSaved={updateSaved}\n                    setSavedMsg={setSavedMsg}\n                    savedMsg={savedMsg}\n                    editMode={editMode}\n                    setEditMode={setEditMode}\n                    editIndex={editIndex}\n                    setEditIndex={setEditIndex}\n                    updateMessage={updateMessage}\n                    msgInput={msgInput}\n                    enterEditMode={enterEditMode}\n                />\n            </div>\n        </>\n    );\n};\n\nexport default ChatApp;\n","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Switch, Route } from 'react-router';\nimport Auth from '../pages/auth/auth';\nimport Edit from '../pages/edit/edit';\nimport Dialogs from '../pages/dialogs/dialogs';\nimport ChatApp from '../chatApp/index'\n\n\nconst App = () => {\n    return (\n        <Switch>\n            <Route exact path=\"/\" component={Auth} />\n            <Route path=\"/edit\" component={Edit} />\n            <Route path=\"/dialogs\" component={Dialogs} />\n            <Route path=\"/chatapp/:id\"\n                render={({ match }) => {\n                    const { id } = match.params;\n                    return <ChatApp dialogId={id} />\n                }}\n            />\n\n        </Switch>\n    )\n}\n\n\nexport default App;\n","const initialState = {\n    isAuthenticated: false, //входил раньше, осталось в кэше браузера\n    isRegistrated: false, //регистрировался раньше \n    myUserName: '',\n    myWelcomeMessage: '',\n    myProfilePhoto: null,\n    myPassword: null,\n    myPhone: null\n\n}\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_MY_PASSWORD\": {\n            return {\n                ...state,\n                myPassword: action.payload\n            }\n        }\n        case \"SET_MY_PHONE\": {\n            return {\n                ...state,\n                myPhone: action.payload\n            }\n        }\n        case \"SET_MY_PROFILE_PHOTO\": {\n            return {\n                ...state,\n                myProfilePhoto: action.payload\n            }\n        }\n        case \"SET_MY_WELCOME_MESSAGE\": {\n            return {\n                ...state,\n                myWelcomeMessage: action.payload\n            }\n        }\n        case \"SET_MY_USER_NAME\": {\n            return {\n                ...state,\n                myUserName: action.payload\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import { createStore } from \"redux\";\nimport reducer from './reducers';\n\nconst store = createStore(reducer); \n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}